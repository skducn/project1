[2026-02-28T20:56:58.150+0800] {local_task_job_runner.py:123} INFO - ::group::Pre task execution logs
[2026-02-28T20:56:58.166+0800] {taskinstance.py:2631} INFO - Dependencies all met for dep_context=non-requeueable deps ti=<TaskInstance: cdrd_新增角色_编辑角色_并.并行执行消费者 manual__2026-02-28T12:56:35.929125+00:00 [queued]>
[2026-02-28T20:56:58.173+0800] {taskinstance.py:2631} INFO - Dependencies all met for dep_context=requeueable deps ti=<TaskInstance: cdrd_新增角色_编辑角色_并.并行执行消费者 manual__2026-02-28T12:56:35.929125+00:00 [queued]>
[2026-02-28T20:56:58.174+0800] {taskinstance.py:2884} INFO - Starting attempt 1 of 1
[2026-02-28T20:56:58.185+0800] {taskinstance.py:2907} INFO - Executing <Task(PythonOperator): 并行执行消费者> on 2026-02-28 12:56:35.929125+00:00
[2026-02-28T20:56:58.189+0800] {standard_task_runner.py:72} INFO - Started process 4237 to run task
[2026-02-28T20:56:58.196+0800] {standard_task_runner.py:104} INFO - Running: ['airflow', 'tasks', 'run', 'cdrd_新增角色_编辑角色_并', '并行执行消费者', 'manual__2026-02-28T12:56:35.929125+00:00', '--job-id', '726', '--raw', '--subdir', 'DAGS_FOLDER/tag_CDRD/系统管理/角色管理/dag_新增角色_编辑角色_并.py', '--cfg-path', '/var/folders/f7/4z7jtb213fs0mtgbw_0vs2600000gn/T/tmpno02_j0e']
[2026-02-28T20:56:58.201+0800] {standard_task_runner.py:105} INFO - Job 726: Subtask 并行执行消费者
[2026-02-28T20:56:58.246+0800] {task_command.py:467} INFO - Running <TaskInstance: cdrd_新增角色_编辑角色_并.并行执行消费者 manual__2026-02-28T12:56:35.929125+00:00 [running]> on host localhost-2.local
[2026-02-28T20:56:58.320+0800] {taskinstance.py:3157} INFO - Exporting env vars: AIRFLOW_CTX_DAG_OWNER='airflow' AIRFLOW_CTX_DAG_ID='cdrd_新增角色_编辑角色_并' AIRFLOW_CTX_TASK_ID='并行执行消费者' AIRFLOW_CTX_EXECUTION_DATE='2026-02-28T12:56:35.929125+00:00' AIRFLOW_CTX_TRY_NUMBER='1' AIRFLOW_CTX_DAG_RUN_ID='manual__2026-02-28T12:56:35.929125+00:00'
[2026-02-28T20:56:58.321+0800] {taskinstance.py:740} INFO - ::endgroup::
[2026-02-28T20:56:58.336+0800] {logging_mixin.py:190} INFO - ==================================================
[2026-02-28T20:56:58.337+0800] {logging_mixin.py:190} INFO - 【并行消费者】开始同时执行新增角色和编辑角色测试...
[2026-02-28T20:56:58.337+0800] {logging_mixin.py:190} INFO - ==================================================
[2026-02-28T20:56:58.342+0800] {logging_mixin.py:190} INFO - 从XCom获取到的测试用例数据: 2 条
[2026-02-28T20:56:58.343+0800] {logging_mixin.py:190} INFO - ===================== 新增角色 消费者开始执行 ====================
[2026-02-28T20:56:58.344+0800] {logging_mixin.py:190} INFO - [新增角色] 找到测试用例: 新增角色
[2026-02-28T20:56:58.344+0800] {logging_mixin.py:190} INFO - ===================== 编辑角色 消费者开始执行 ====================
[2026-02-28T20:56:58.344+0800] {logging_mixin.py:190} INFO - [新增角色] 执行路径: 系统管理/角色管理/新增角色.py
[2026-02-28T20:56:58.345+0800] {logging_mixin.py:190} INFO - [编辑角色] 跳过不匹配的测试用例: 新增角色
[2026-02-28T20:56:58.345+0800] {logging_mixin.py:190} INFO - [Consumer_0] 开始执行测试用例: 系统管理/角色管理/新增角色.py
[2026-02-28T20:56:58.346+0800] {logging_mixin.py:190} INFO - [编辑角色] 找到测试用例: 编辑角色
[2026-02-28T20:56:58.346+0800] {logging_mixin.py:190} INFO - [线程 Consumer_0] 准备执行Playwright脚本: /Users/linghuchong/Downloads/51/Python/project/instance/zyjk/CDRD/web/系统管理/角色管理/新增角色.py
[2026-02-28T20:56:58.347+0800] {logging_mixin.py:190} INFO - [编辑角色] 执行路径: 系统管理/角色管理/编辑角色.py
[2026-02-28T20:56:58.348+0800] {logging_mixin.py:190} INFO - [Consumer_1] 开始执行测试用例: 系统管理/角色管理/编辑角色.py
[2026-02-28T20:56:58.348+0800] {logging_mixin.py:190} INFO - [线程 Consumer_1] 准备执行Playwright脚本: /Users/linghuchong/Downloads/51/Python/project/instance/zyjk/CDRD/web/系统管理/角色管理/编辑角色.py
[2026-02-28T20:56:58.767+0800] {logging_mixin.py:190} INFO - [线程 Consumer_1] ✅ 找到run_playwright函数，开始执行...
[2026-02-28T20:56:58.767+0800] {logging_mixin.py:190} INFO - 随机生成测试数据: [['萧玉华', '122826', '740877', '河南省强市东城梧州街f座 230647']]
[2026-02-28T20:56:58.769+0800] {logging_mixin.py:190} INFO - [线程 Consumer_0] ✅ 找到run_playwright函数，开始执行...
[2026-02-28T20:57:05.890+0800] {logging_mixin.py:190} INFO - [线程 Consumer_1] ✅ Playwright执行完成，返回结果: {'role_name': '555', 'remark': '1234'}
[2026-02-28T20:57:05.890+0800] {logging_mixin.py:190} INFO - [线程 Consumer_0] ✅ Playwright执行完成，返回结果: {'role_name': '萧玉华', 'role_key': '122826', 'role_sort': '740877', 'remark': '河南省强市东城梧州街f座 230647'}
[2026-02-28T20:57:05.891+0800] {logging_mixin.py:190} INFO - [Consumer_1] Playwright执行结果: {'role_name': '555', 'remark': '1234'}
[2026-02-28T20:57:05.892+0800] {logging_mixin.py:190} INFO - [Consumer_0] Playwright执行结果: {'role_name': '萧玉华', 'role_key': '122826', 'role_sort': '740877', 'remark': '河南省强市东城梧州街f座 230647'}
[2026-02-28T20:57:05.892+0800] {logging_mixin.py:190} INFO - [Consumer_1] 正则替换结果: [{"k": "select count(*) as qty from sys_role where role_name='555'", "v": 1}]
[2026-02-28T20:57:05.893+0800] {logging_mixin.py:190} INFO - [Consumer_0] 正则替换结果: [{"k": "select count(*) as qty from sys_role where role_name='萧玉华'", "v": 1}]
[2026-02-28T20:57:05.893+0800] {logging_mixin.py:190} INFO - [Consumer_1] 解析后的验证数据: [{'k': "select count(*) as qty from sys_role where role_name='555'", 'v': 1}]
[2026-02-28T20:57:05.894+0800] {logging_mixin.py:190} INFO - [Consumer_0] 解析后的验证数据: [{'k': "select count(*) as qty from sys_role where role_name='萧玉华'", 'v': 1}]
[2026-02-28T20:57:05.895+0800] {logging_mixin.py:190} INFO - OperationalError(0, b'Unknown error')
[2026-02-28T20:57:05.896+0800] {logging_mixin.py:190} INFO - Consumer_0] 验证过程出错: 'NoneType' object is not subscriptable
[2026-02-28T20:57:05.896+0800] {logging_mixin.py:190} INFO - [新增角色] 跳过不匹配的测试用例: 编辑角色
[2026-02-28T20:57:05.897+0800] {logging_mixin.py:190} INFO - ===================== 新增角色 消费者执行完成 ====================
[2026-02-28T20:57:05.906+0800] {logging_mixin.py:190} INFO - OperationalError(3980, b'The request failed to run because the batch is aborted, this can be caused by abort signal sent from client, or another request is running in the same session, which makes the session busy.DB-Lib error message 20018, severity 16:\nGeneral SQL Server error: Check messages from the SQL Server\n')
[2026-02-28T20:57:05.907+0800] {logging_mixin.py:190} INFO - Consumer_1] 验证过程出错: 'NoneType' object is not subscriptable
[2026-02-28T20:57:05.908+0800] {logging_mixin.py:190} INFO - ===================== 编辑角色 消费者执行完成 ====================
[2026-02-28T20:57:05.909+0800] {logging_mixin.py:190} INFO - ==================================================
[2026-02-28T20:57:05.910+0800] {logging_mixin.py:190} INFO - 【并行消费者】所有测试执行完成
[2026-02-28T20:57:05.911+0800] {logging_mixin.py:190} INFO - ==================================================
[2026-02-28T20:57:05.912+0800] {python.py:240} INFO - Done. Returned value was: {'新增角色': None, '编辑角色': None}
[2026-02-28T20:57:05.932+0800] {taskinstance.py:349} INFO - ::group::Post task execution logs
[2026-02-28T20:57:05.933+0800] {taskinstance.py:361} INFO - Marking task as SUCCESS. dag_id=cdrd_新增角色_编辑角色_并, task_id=并行执行消费者, run_id=manual__2026-02-28T12:56:35.929125+00:00, execution_date=20260228T125635, start_date=20260228T125658, end_date=20260228T125705
[2026-02-28T20:57:05.976+0800] {local_task_job_runner.py:266} INFO - Task exited with return code 0
[2026-02-28T20:57:05.996+0800] {taskinstance.py:3924} INFO - 0 downstream tasks scheduled from follow-on schedule check
[2026-02-28T20:57:05.996+0800] {local_task_job_runner.py:245} INFO - ::endgroup::
