2020-06-10 10:56:34.008 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 15540 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-10 10:56:34.073 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 10:56:34.073 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 10:56:35.999 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 10:56:36.012 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 10:56:36.012 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 10:56:36.013 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 10:56:36.085 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 10:56:36.085 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1938 ms 
2020-06-10 10:56:36.189 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 10:56:36.455 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 10:56:37.093 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 10:56:37.317 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 10:56:37.336 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 10:56:37.406 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 296 
2020-06-10 10:56:37.623 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：296 条 
2020-06-10 10:56:37.635 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 10:56:37.635 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 10:56:38.041 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 10:56:38.064 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 10:56:38.065 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 10:56:38.178 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 10:56:38.414 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 10:56:38.445 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-10 10:56:38.447 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 5.045 seconds (JVM running for 5.536) 
2020-06-10 10:56:38.449 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-10 11:00:12.554 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 7760 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-10 11:00:12.557 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 11:00:12.558 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 11:00:14.020 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 11:00:14.033 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 11:00:14.033 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 11:00:14.033 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 11:00:14.100 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 11:00:14.101 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1486 ms 
2020-06-10 11:00:14.177 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 11:00:14.438 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 11:00:15.041 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 11:00:15.260 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 11:00:15.277 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 11:00:15.433 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 296 
2020-06-10 11:00:15.631 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：296 条 
2020-06-10 11:00:15.643 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 11:00:15.643 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 11:00:16.160 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 11:00:16.178 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 11:00:16.178 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 11:00:16.282 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 11:00:16.487 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 11:00:16.511 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-10 11:00:16.514 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.606 seconds (JVM running for 5.059) 
2020-06-10 11:00:16.515 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-10 11:02:04.108 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 9720 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-10 11:02:04.111 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 11:02:04.111 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 11:02:05.585 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 11:02:05.595 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 11:02:05.596 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 11:02:05.596 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 11:02:05.662 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 11:02:05.662 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1449 ms 
2020-06-10 11:02:05.741 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 11:02:05.998 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 11:02:06.689 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 11:02:06.867 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 11:02:06.885 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 11:02:06.960 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 296 
2020-06-10 11:02:07.155 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：296 条 
2020-06-10 11:02:07.180 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 11:02:07.181 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 11:02:07.670 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 11:02:07.693 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 11:02:07.694 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 11:02:07.801 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 11:02:08.009 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 11:02:08.032 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-10 11:02:08.035 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.475 seconds (JVM running for 4.952) 
2020-06-10 11:02:08.036 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-10 11:09:16.115 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 2836 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 11:09:16.119 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 11:09:16.120 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 11:09:17.664 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 11:09:17.677 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 11:09:17.678 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 11:09:17.678 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 11:09:17.746 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 11:09:17.747 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1513 ms 
2020-06-10 11:09:17.829 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 11:09:18.091 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 11:09:18.815 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 11:09:19.020 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 11:09:19.049 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 11:09:19.134 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 296 
2020-06-10 11:09:19.355 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：296 条 
2020-06-10 11:09:19.365 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 11:09:19.365 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 11:09:19.957 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 11:09:19.981 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 11:09:19.981 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 11:09:20.097 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 11:09:20.349 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 11:09:20.403 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-10 11:09:20.406 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.881 seconds (JVM running for 5.588) 
2020-06-10 11:09:20.408 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-10 11:13:42.353 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 7080 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 11:13:42.356 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 11:13:42.356 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 11:13:44.101 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 11:13:44.111 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 11:13:44.112 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 11:13:44.112 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 11:13:44.180 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 11:13:44.180 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1732 ms 
2020-06-10 11:13:44.260 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 11:13:44.525 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 11:13:45.208 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 11:13:45.396 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 11:13:45.422 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 11:13:45.500 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 296 
2020-06-10 11:13:45.719 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：296 条 
2020-06-10 11:13:45.731 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 11:13:45.732 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 11:13:46.313 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 11:13:46.340 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 11:13:46.340 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 11:13:46.473 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 11:13:46.703 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 11:13:46.727 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-10 11:13:46.730 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.937 seconds (JVM running for 5.406) 
2020-06-10 11:13:46.731 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-10 11:14:33.918 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 11760 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 11:14:33.921 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 11:14:33.921 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 11:14:35.478 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 11:14:35.490 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 11:14:35.491 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 11:14:35.491 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 11:14:35.557 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 11:14:35.557 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1490 ms 
2020-06-10 11:14:35.636 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 11:14:35.912 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 11:14:36.577 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 11:14:36.840 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 11:14:36.868 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 11:14:36.944 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 296 
2020-06-10 11:14:37.188 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：296 条 
2020-06-10 11:14:37.200 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 11:14:37.201 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 11:14:37.738 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 11:14:37.762 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 11:14:37.762 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 11:14:37.886 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 11:14:38.107 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 11:14:38.133 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-10 11:14:38.135 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.788 seconds (JVM running for 5.231) 
2020-06-10 11:14:38.137 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-10 11:21:32.699 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 14928 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 11:21:32.702 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 11:21:32.702 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 11:21:34.230 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 11:21:34.240 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 11:21:34.241 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 11:21:34.242 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 11:21:34.308 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 11:21:34.309 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1496 ms 
2020-06-10 11:21:34.389 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 11:21:34.641 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 11:21:35.267 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 11:21:35.454 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 11:21:35.472 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 11:21:35.549 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 296 
2020-06-10 11:21:35.756 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：296 条 
2020-06-10 11:21:35.767 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 11:21:35.768 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 11:21:36.161 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 11:21:36.185 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 11:21:36.186 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 11:21:36.298 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 11:21:36.496 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 11:21:36.520 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-10 11:21:36.523 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.368 seconds (JVM running for 4.816) 
2020-06-10 11:21:36.524 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-10 11:22:31.122 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 11308 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 11:22:31.125 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 11:22:31.126 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 11:22:32.630 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 11:22:32.641 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 11:22:32.642 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 11:22:32.642 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 11:22:32.710 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 11:22:32.711 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1480 ms 
2020-06-10 11:22:32.797 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 11:22:33.053 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 11:22:33.698 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 11:22:33.949 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 11:22:33.969 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 11:22:34.049 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 296 
2020-06-10 11:22:34.265 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：296 条 
2020-06-10 11:22:34.280 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 11:22:34.280 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 11:22:34.825 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 11:22:34.849 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 11:22:34.849 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 11:22:34.968 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 11:22:35.225 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 11:22:35.251 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-10 11:22:35.254 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.673 seconds (JVM running for 5.118) 
2020-06-10 11:22:35.256 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-10 11:23:30.689 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 9112 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 11:23:30.692 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 11:23:30.693 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 11:23:32.200 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 11:23:32.212 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 11:23:32.212 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 11:23:32.213 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 11:23:32.284 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 11:23:32.285 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1496 ms 
2020-06-10 11:23:32.380 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 11:23:32.554 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 11:23:33.241 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 11:23:33.440 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 11:23:33.467 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 11:23:33.545 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 296 
2020-06-10 11:23:33.752 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：296 条 
2020-06-10 11:23:33.767 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 11:23:33.768 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 11:23:34.196 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 11:23:34.225 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 11:23:34.226 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 11:23:34.369 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 11:23:34.599 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 11:23:34.627 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-10 11:23:34.630 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.496 seconds (JVM running for 4.95) 
2020-06-10 11:23:34.632 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-10 11:23:34.854 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-10 11:23:34.855 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-10 11:23:34.866 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 11 ms 
2020-06-10 11:23:34.905 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 11:23:34.911 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 11:23:34.919 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 11:23:34.924 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 11:23:34.925 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 11:23:34.932 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 11:23:34.937 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 11:23:34.938 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 11:23:34.943 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 15 
2020-06-10 11:23:34.949 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 11:23:34.949 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 11:23:34.954 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 11:23:34.959 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 11:23:34.960 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 11:23:34.964 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-10 11:23:34.969 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 11:23:34.969 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-10 11:23:34.970 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 11:23:34.970 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 11:23:34.975 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-10 11:23:34.979 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 11:23:34.980 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-10 11:23:35.112 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 11:23:35.128 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 11:23:35.143 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 11:23:35.145 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 11:23:35.147 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 11:23:35.155 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:5 
2020-06-10 11:23:35.181 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 11:23:35.182 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 11:23:35.155(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 11:23:35.155(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 11:23:35.155(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 11:23:35.155(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 11:23:35.155(Timestamp) 
2020-06-10 11:23:35.205 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 5 
2020-06-10 11:23:38.692 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 11:23:38.693 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 11:23:38.702 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 11:23:38.709 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 11:23:38.710 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 11:23:38.715 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 11:23:38.721 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 11:23:38.721 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 11:23:38.727 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 15 
2020-06-10 11:23:38.733 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 11:23:38.733 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 11:23:38.738 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 11:23:38.742 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 11:23:38.743 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 11:23:38.748 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-10 11:23:38.752 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 11:23:38.753 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-10 11:23:38.754 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 11:23:38.754 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 11:23:38.760 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-10 11:23:38.765 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 11:23:38.765 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-10 11:23:38.783 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 11:23:38.784 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:姓名填写不规范同时满足以下条件： 1、联系人姓名不为空值 2、联系人姓名为纯数字 
2020-06-10 11:23:38.786 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 11:23:38.789 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 11:23:38.790 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 11:23:38.791 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 11:23:38.792 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-10 11:23:38.794 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 11:23:38.795 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 11:23:38.792(Timestamp), 31011310200312009116(String), 61ed70b670f2460a94ebc183f6b86f5d(String), 2020-06-10 11:23:38.792(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 11:23:38.792(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 11:23:38.792(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 11:23:38.792(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 11:23:38.792(Timestamp) 
2020-06-10 11:23:38.813 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-10 11:23:42.273 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 11:23:42.274 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 11:23:42.280 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 11:23:42.285 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 11:23:42.286 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 11:23:42.292 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 11:23:42.300 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 11:23:42.301 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 11:23:42.306 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 15 
2020-06-10 11:23:42.310 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 11:23:42.311 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 11:23:42.315 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 11:23:42.320 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 11:23:42.321 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 11:23:42.326 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-10 11:23:42.331 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 11:23:42.331 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-10 11:23:42.332 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 11:23:42.333 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 11:23:42.338 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-10 11:23:42.343 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 11:23:42.343 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-10 11:23:42.362 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 11:23:42.365 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 11:23:42.373 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:姓名长度异常长度>50字符 
2020-06-10 11:23:42.374 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 11:23:42.375 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 11:23:42.375 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 11:23:42.378 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-10 11:23:42.379 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 11:23:42.381 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 11:23:42.378(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 11:23:42.378(Timestamp), 31011310200312009116(String), b8eeb38e528544b28133b9ee94c5fbc4(String), 2020-06-10 11:23:42.378(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 11:23:42.378(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 11:23:42.378(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 11:23:42.378(Timestamp) 
2020-06-10 11:23:42.397 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-10 11:32:20.705 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 10448 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 11:32:20.708 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 11:32:20.708 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 11:32:22.233 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 11:32:22.245 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 11:32:22.246 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 11:32:22.246 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 11:32:22.315 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 11:32:22.316 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1496 ms 
2020-06-10 11:32:22.395 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 11:32:22.708 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 11:32:23.554 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 11:32:23.780 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 11:32:23.800 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 11:32:23.882 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 296 
2020-06-10 11:32:24.074 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：296 条 
2020-06-10 11:32:24.086 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 11:32:24.086 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 11:32:24.577 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 11:32:24.602 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 11:32:24.602 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 11:32:24.709 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 11:32:24.940 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 11:32:24.964 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-10 11:32:24.967 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.807 seconds (JVM running for 5.256) 
2020-06-10 11:32:24.969 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-10 11:33:40.280 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 10016 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 11:33:40.284 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 11:33:40.285 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 11:33:41.763 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 11:33:41.775 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 11:33:41.776 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 11:33:41.776 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 11:33:41.842 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 11:33:41.843 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1466 ms 
2020-06-10 11:33:41.920 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 11:33:42.178 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 11:33:42.786 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 11:33:42.970 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 11:33:42.988 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 11:33:43.072 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 296 
2020-06-10 11:33:43.270 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：296 条 
2020-06-10 11:33:43.286 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 11:33:43.286 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 11:33:43.753 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 11:33:43.779 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 11:33:43.780 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 11:33:43.889 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 11:33:44.143 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 11:33:44.174 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-10 11:33:44.178 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.457 seconds (JVM running for 4.898) 
2020-06-10 11:33:44.179 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-10 11:36:24.208 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 11156 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 11:36:24.211 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 11:36:24.211 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 11:36:25.714 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 11:36:25.726 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 11:36:25.727 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 11:36:25.727 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 11:36:25.799 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 11:36:25.799 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1501 ms 
2020-06-10 11:36:25.896 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 11:36:26.064 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 11:36:26.810 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 11:36:27.035 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 11:36:27.053 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 11:36:27.134 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 296 
2020-06-10 11:36:27.348 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：296 条 
2020-06-10 11:36:27.360 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 11:36:27.360 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 11:36:27.888 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 11:36:27.917 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 11:36:27.918 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 11:36:28.036 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 11:36:28.266 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 11:36:28.292 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-10 11:36:28.295 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.647 seconds (JVM running for 5.106) 
2020-06-10 11:36:28.297 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-10 11:36:28.429 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-10 11:36:28.429 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-10 11:36:28.436 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 7 ms 
2020-06-10 11:36:28.476 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 11:36:28.482 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 11:36:28.492 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 11:36:28.497 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 11:36:28.498 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 11:36:28.507 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 11:36:28.512 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 11:36:28.512 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 11:36:28.520 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 15 
2020-06-10 11:36:28.526 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 11:36:28.527 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 11:36:28.532 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 11:36:28.536 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 11:36:28.537 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 11:36:28.542 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-10 11:36:28.546 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 11:36:28.547 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-10 11:36:28.547 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 11:36:28.548 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 11:36:28.553 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-10 11:36:28.558 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 11:36:28.558 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-10 11:36:28.662 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 11:36:28.667 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 11:36:28.677 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 11:36:28.681 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 11:36:28.684 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 11:36:28.692 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:5 
2020-06-10 11:36:28.716 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 11:36:28.717 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 11:36:28.693(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 11:36:28.693(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 11:36:28.693(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 11:36:28.693(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 11:36:28.693(Timestamp) 
2020-06-10 11:36:28.748 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 5 
2020-06-10 11:36:32.003 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 11:36:32.004 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 11:36:32.010 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 11:36:32.015 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 11:36:32.016 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 11:36:32.021 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 11:36:32.026 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 11:36:32.026 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 11:36:32.032 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 15 
2020-06-10 11:36:32.037 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 11:36:32.037 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 11:36:32.043 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 11:36:32.048 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 11:36:32.049 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 11:36:32.054 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-10 11:36:32.059 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 11:36:32.060 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-10 11:36:32.061 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 11:36:32.061 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 11:36:32.067 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-10 11:36:32.071 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 11:36:32.072 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-10 11:36:32.101 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 11:36:32.102 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:姓名填写不规范同时满足以下条件： 1、联系人姓名不为空值 2、联系人姓名为纯数字 
2020-06-10 11:36:32.112 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 11:36:32.126 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 11:36:32.129 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 11:36:32.138 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 11:36:32.139 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-10 11:36:32.143 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 11:36:32.152 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 11:36:32.14(Timestamp), 31011310200312009116(String), 61ed70b670f2460a94ebc183f6b86f5d(String), 2020-06-10 11:36:32.14(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 11:36:32.14(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 11:36:32.14(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 11:36:32.14(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 11:36:32.14(Timestamp) 
2020-06-10 11:36:32.181 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-10 11:36:35.605 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 11:36:35.605 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 11:36:35.611 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 11:36:35.616 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 11:36:35.617 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 11:36:35.623 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 11:36:35.629 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 11:36:35.630 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 11:36:35.635 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 15 
2020-06-10 11:36:35.640 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 11:36:35.640 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 11:36:35.645 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 11:36:35.650 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 11:36:35.651 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 11:36:35.655 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-10 11:36:35.662 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 11:36:35.662 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 0 
2020-06-10 11:36:35.663 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 11:36:35.664 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 11:36:35.669 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 0 
2020-06-10 11:36:35.674 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 11:36:35.674 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 0 
2020-06-10 11:36:35.692 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 11:36:35.695 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 11:36:35.698 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:姓名长度异常长度>50字符 
2020-06-10 11:36:35.704 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 11:36:35.706 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 11:36:35.707 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 11:36:35.708 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-10 11:36:35.709 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 11:36:35.712 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 11:36:35.709(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 11:36:35.709(Timestamp), 31011310200312009116(String), b8eeb38e528544b28133b9ee94c5fbc4(String), 2020-06-10 11:36:35.709(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 11:36:35.709(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 11:36:35.709(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 11:36:35.709(Timestamp) 
2020-06-10 11:36:35.722 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-10 12:33:24.164 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 15468 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 12:33:24.167 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 12:33:24.167 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 12:33:25.628 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 12:33:25.640 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 12:33:25.641 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 12:33:25.641 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 12:33:25.711 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 12:33:25.712 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1459 ms 
2020-06-10 12:33:25.793 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 12:33:26.100 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 12:33:26.735 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 12:33:26.966 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 12:33:26.990 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 12:33:27.148 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 296 
2020-06-10 12:33:27.439 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：296 条 
2020-06-10 12:33:27.451 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 12:33:27.451 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 12:33:27.810 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 12:33:27.835 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 12:33:27.835 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 12:33:27.942 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 12:33:28.148 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 12:33:28.159 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Pausing ProtocolHandler ["http-nio-8080"] 
2020-06-10 12:33:28.159 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Stopping service [Tomcat] 
2020-06-10 12:33:28.165 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Stopping ProtocolHandler ["http-nio-8080"] 
2020-06-10 12:33:28.165 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Destroying ProtocolHandler ["http-nio-8080"] 
2020-06-10 12:33:28.167 [INFO ] o.s.b.a.l.ConditionEvaluationReportLoggingListener - [logMessage:136]     Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled. 
2020-06-10 12:33:28.169 [ERROR] o.s.b.diagnostics.LoggingFailureAnalysisReporter   - [report:40]     ***************************  APPLICATION FAILED TO START  ***************************    Description:    Web server failed to start. Port 8080 was already in use.    Action:    Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.   
2020-06-10 12:33:28.171 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [shutdown:208] Shutting down ExecutorService 'applicationTaskExecutor' 
2020-06-10 12:33:28.174 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [close:1825] {dataSource-1} closed 
2020-06-10 13:32:45.712 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 6348 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 13:32:45.715 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 13:32:45.715 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 13:32:47.197 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 13:32:47.210 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 13:32:47.210 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 13:32:47.211 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 13:32:47.278 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 13:32:47.278 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1474 ms 
2020-06-10 13:32:47.361 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 13:32:47.619 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 13:32:48.252 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 13:32:48.467 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 13:32:48.491 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 13:32:48.570 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 301 
2020-06-10 13:32:48.793 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：301 条 
2020-06-10 13:32:48.806 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 13:32:48.813 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 13:32:49.225 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 13:32:49.248 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 13:32:49.249 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 13:32:49.356 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 13:32:49.630 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 13:32:49.644 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Pausing ProtocolHandler ["http-nio-8080"] 
2020-06-10 13:32:49.644 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Stopping service [Tomcat] 
2020-06-10 13:32:49.656 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Stopping ProtocolHandler ["http-nio-8080"] 
2020-06-10 13:32:49.657 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Destroying ProtocolHandler ["http-nio-8080"] 
2020-06-10 13:32:49.660 [INFO ] o.s.b.a.l.ConditionEvaluationReportLoggingListener - [logMessage:136]     Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled. 
2020-06-10 13:32:49.664 [ERROR] o.s.b.diagnostics.LoggingFailureAnalysisReporter   - [report:40]     ***************************  APPLICATION FAILED TO START  ***************************    Description:    Web server failed to start. Port 8080 was already in use.    Action:    Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.   
2020-06-10 13:32:49.667 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [shutdown:208] Shutting down ExecutorService 'applicationTaskExecutor' 
2020-06-10 13:32:49.674 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [close:1825] {dataSource-1} closed 
2020-06-10 13:33:26.282 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 7996 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 13:33:26.286 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 13:33:26.286 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 13:33:27.744 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 13:33:27.756 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 13:33:27.757 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 13:33:27.758 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 13:33:27.826 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 13:33:27.826 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1462 ms 
2020-06-10 13:33:27.908 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 13:33:28.175 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 13:33:28.768 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 13:33:28.957 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 13:33:28.981 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 13:33:29.059 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 301 
2020-06-10 13:33:29.302 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：301 条 
2020-06-10 13:33:29.313 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 13:33:29.314 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 13:33:29.820 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 13:33:29.842 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 13:33:29.843 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 13:33:29.978 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 13:33:30.229 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 13:33:30.242 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Pausing ProtocolHandler ["http-nio-8080"] 
2020-06-10 13:33:30.242 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Stopping service [Tomcat] 
2020-06-10 13:33:30.248 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Stopping ProtocolHandler ["http-nio-8080"] 
2020-06-10 13:33:30.249 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Destroying ProtocolHandler ["http-nio-8080"] 
2020-06-10 13:33:30.251 [INFO ] o.s.b.a.l.ConditionEvaluationReportLoggingListener - [logMessage:136]     Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled. 
2020-06-10 13:33:30.252 [ERROR] o.s.b.diagnostics.LoggingFailureAnalysisReporter   - [report:40]     ***************************  APPLICATION FAILED TO START  ***************************    Description:    Web server failed to start. Port 8080 was already in use.    Action:    Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.   
2020-06-10 13:33:30.254 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [shutdown:208] Shutting down ExecutorService 'applicationTaskExecutor' 
2020-06-10 13:33:30.257 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [close:1825] {dataSource-1} closed 
2020-06-10 13:37:32.445 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 2220 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 13:37:32.449 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 13:37:32.449 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 13:37:33.997 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 13:37:34.009 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 13:37:34.010 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 13:37:34.010 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 13:37:34.081 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 13:37:34.081 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1518 ms 
2020-06-10 13:37:34.164 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 13:37:34.415 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 13:37:35.030 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 13:37:35.222 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 13:37:35.240 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 13:37:35.314 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 301 
2020-06-10 13:37:35.525 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：301 条 
2020-06-10 13:37:35.538 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 13:37:35.541 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 13:37:36.077 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 13:37:36.101 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 13:37:36.102 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 13:37:36.234 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 13:37:36.454 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 13:37:36.466 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Pausing ProtocolHandler ["http-nio-8080"] 
2020-06-10 13:37:36.466 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Stopping service [Tomcat] 
2020-06-10 13:37:36.472 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Stopping ProtocolHandler ["http-nio-8080"] 
2020-06-10 13:37:36.472 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Destroying ProtocolHandler ["http-nio-8080"] 
2020-06-10 13:37:36.475 [INFO ] o.s.b.a.l.ConditionEvaluationReportLoggingListener - [logMessage:136]     Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled. 
2020-06-10 13:37:36.476 [ERROR] o.s.b.diagnostics.LoggingFailureAnalysisReporter   - [report:40]     ***************************  APPLICATION FAILED TO START  ***************************    Description:    Web server failed to start. Port 8080 was already in use.    Action:    Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.   
2020-06-10 13:37:36.479 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [shutdown:208] Shutting down ExecutorService 'applicationTaskExecutor' 
2020-06-10 13:37:36.482 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [close:1825] {dataSource-1} closed 
2020-06-10 13:38:24.339 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 4428 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 13:38:24.342 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 13:38:24.342 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 13:38:25.859 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 13:38:25.871 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 13:38:25.871 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 13:38:25.872 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 13:38:25.941 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 13:38:25.941 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1507 ms 
2020-06-10 13:38:26.025 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 13:38:26.280 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 13:38:26.892 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 13:38:27.095 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 13:38:27.115 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 13:38:27.199 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 301 
2020-06-10 13:38:27.432 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：301 条 
2020-06-10 13:38:27.445 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 13:38:27.445 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 13:38:27.921 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 13:38:27.963 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 13:38:27.964 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 13:38:28.104 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 13:38:28.337 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 13:38:28.349 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Pausing ProtocolHandler ["http-nio-8080"] 
2020-06-10 13:38:28.350 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Stopping service [Tomcat] 
2020-06-10 13:38:28.354 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Stopping ProtocolHandler ["http-nio-8080"] 
2020-06-10 13:38:28.355 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Destroying ProtocolHandler ["http-nio-8080"] 
2020-06-10 13:38:28.357 [INFO ] o.s.b.a.l.ConditionEvaluationReportLoggingListener - [logMessage:136]     Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled. 
2020-06-10 13:38:28.359 [ERROR] o.s.b.diagnostics.LoggingFailureAnalysisReporter   - [report:40]     ***************************  APPLICATION FAILED TO START  ***************************    Description:    Web server failed to start. Port 8080 was already in use.    Action:    Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.   
2020-06-10 13:38:28.362 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [shutdown:208] Shutting down ExecutorService 'applicationTaskExecutor' 
2020-06-10 13:38:28.366 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [close:1825] {dataSource-1} closed 
2020-06-10 14:25:17.560 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 4264 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 14:25:17.563 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 14:25:17.564 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 14:25:19.160 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 14:25:19.172 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:25:19.173 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 14:25:19.173 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 14:25:19.265 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 14:25:19.266 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1615 ms 
2020-06-10 14:25:19.413 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 14:25:19.695 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 14:25:20.327 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 14:25:20.524 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 14:25:20.546 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 14:25:20.626 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 308 
2020-06-10 14:25:20.701 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [ com.benetech.rules.modules.myrules.conform.CoverName11] error! 
2020-06-10 14:25:20.744 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [ com.benetech.rules.modules.myrules.conform.CoverName12] error! 
2020-06-10 14:25:20.768 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [ com.benetech.rules.modules.myrules.conform.CoverName15] error! 
2020-06-10 14:25:20.777 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [ com.benetech.rules.modules.myrules.conform.CoverName13] error! 
2020-06-10 14:25:20.786 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [ com.benetech.rules.modules.myrules.conform.CoverName10] error! 
2020-06-10 14:25:21.055 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [ com.benetech.rules.modules.myrules.conform.CoverName14] error! 
2020-06-10 14:25:21.070 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：308 条 
2020-06-10 14:25:21.083 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 14:25:21.084 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 14:25:21.601 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 14:25:21.626 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 14:25:21.626 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 14:25:21.779 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 14:25:22.069 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:25:22.085 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Pausing ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:25:22.085 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Stopping service [Tomcat] 
2020-06-10 14:25:22.089 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Stopping ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:25:22.089 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Destroying ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:25:22.091 [INFO ] o.s.b.a.l.ConditionEvaluationReportLoggingListener - [logMessage:136]     Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled. 
2020-06-10 14:25:22.094 [ERROR] o.s.b.diagnostics.LoggingFailureAnalysisReporter   - [report:40]     ***************************  APPLICATION FAILED TO START  ***************************    Description:    Web server failed to start. Port 8080 was already in use.    Action:    Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.   
2020-06-10 14:25:22.096 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [shutdown:208] Shutting down ExecutorService 'applicationTaskExecutor' 
2020-06-10 14:25:22.107 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [close:1825] {dataSource-1} closed 
2020-06-10 14:25:54.467 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 3948 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 14:25:54.527 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 14:25:54.528 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 14:25:56.195 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 14:25:56.207 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:25:56.208 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 14:25:56.208 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 14:25:56.281 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 14:25:56.281 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1662 ms 
2020-06-10 14:25:56.362 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 14:25:56.637 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 14:25:57.294 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 14:25:57.493 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 14:25:57.528 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 14:25:57.600 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 308 
2020-06-10 14:25:57.667 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [ com.benetech.rules.modules.myrules.conform.CoverName11] error! 
2020-06-10 14:25:57.704 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [ com.benetech.rules.modules.myrules.conform.CoverName12] error! 
2020-06-10 14:25:57.722 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [ com.benetech.rules.modules.myrules.conform.CoverName15] error! 
2020-06-10 14:25:57.728 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [ com.benetech.rules.modules.myrules.conform.CoverName13] error! 
2020-06-10 14:25:57.735 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [ com.benetech.rules.modules.myrules.conform.CoverName10] error! 
2020-06-10 14:25:57.849 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [ com.benetech.rules.modules.myrules.conform.CoverName14] error! 
2020-06-10 14:25:57.861 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：308 条 
2020-06-10 14:25:57.871 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 14:25:57.871 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 14:25:58.420 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 14:25:58.453 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 14:25:58.458 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 14:25:58.665 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 14:25:58.947 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:25:58.974 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-10 14:25:58.976 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 5.245 seconds (JVM running for 5.725) 
2020-06-10 14:25:58.978 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-10 14:29:04.926 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 15804 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 14:29:04.929 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 14:29:04.930 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 14:29:06.419 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 14:29:06.431 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:29:06.432 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 14:29:06.432 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 14:29:06.499 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 14:29:06.499 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1482 ms 
2020-06-10 14:29:06.586 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 14:29:06.949 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 14:29:07.549 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 14:29:07.774 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 14:29:07.793 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 14:29:07.867 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 302 
2020-06-10 14:29:08.068 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：302 条 
2020-06-10 14:29:08.085 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 14:29:08.085 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 14:29:08.601 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 14:29:08.628 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 14:29:08.628 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 14:29:08.754 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 14:29:08.998 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:29:09.026 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-10 14:29:09.029 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.656 seconds (JVM running for 5.102) 
2020-06-10 14:29:09.030 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-10 14:30:25.427 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 3160 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 14:30:25.430 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 14:30:25.431 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 14:30:26.929 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 14:30:26.940 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:30:26.941 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 14:30:26.941 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 14:30:27.009 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 14:30:27.009 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1479 ms 
2020-06-10 14:30:27.090 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 14:30:27.345 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 14:30:27.942 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 14:30:28.160 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 14:30:28.192 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 14:30:28.267 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 302 
2020-06-10 14:30:28.473 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：302 条 
2020-06-10 14:30:28.483 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 14:30:28.484 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 14:30:28.904 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 14:30:28.932 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 14:30:28.932 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 14:30:29.062 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 14:30:29.310 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:30:29.341 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-10 14:30:29.344 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.444 seconds (JVM running for 4.9) 
2020-06-10 14:30:29.346 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-10 14:31:27.596 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 116 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 14:31:27.599 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 14:31:27.599 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 14:31:29.070 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 14:31:29.082 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:31:29.083 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 14:31:29.083 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 14:31:29.150 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 14:31:29.151 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1465 ms 
2020-06-10 14:31:29.231 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 14:31:29.495 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 14:31:30.113 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 14:31:30.330 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 14:31:30.348 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 14:31:30.422 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 302 
2020-06-10 14:31:30.652 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：302 条 
2020-06-10 14:31:30.662 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 14:31:30.663 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 14:31:31.180 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 14:31:31.203 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 14:31:31.203 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 14:31:31.324 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 14:31:31.546 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:31:31.572 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-10 14:31:31.575 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.52 seconds (JVM running for 4.976) 
2020-06-10 14:31:31.576 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-10 14:31:31.888 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-10 14:31:31.891 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-10 14:31:31.899 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 8 ms 
2020-06-10 14:31:31.934 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:31:31.939 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:31:31.946 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:31:31.952 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:31:31.953 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:31:31.961 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:31:31.965 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:31:31.966 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:31:31.972 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:31:31.977 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:31:31.978 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:31:31.983 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:31:31.987 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:31:31.988 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:31:31.994 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:31:31.999 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:31:31.999 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:31:32.000 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:31:32.000 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:31:32.005 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:31:32.009 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:31:32.009 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:31:32.013 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:31:32.019 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:31:32.020 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:31:32.034 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:31:32.039 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:31:32.040 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:31:32.040 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:31:32.041 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:31:32.045 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:31:32.050 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:31:32.050 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:31:32.054 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:31:32.059 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:31:32.059 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:31:32.064 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:31:32.068 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:31:32.069 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:31:32.073 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:31:32.077 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:31:32.078 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:31:32.082 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:31:32.087 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:31:32.088 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:31:32.094 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:31:32.195 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:0 
2020-06-10 14:32:49.855 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 4832 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 14:32:49.861 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 14:32:49.861 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 14:32:51.328 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 14:32:51.340 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:32:51.340 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 14:32:51.341 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 14:32:51.413 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 14:32:51.413 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1470 ms 
2020-06-10 14:32:51.493 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 14:32:51.760 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 14:32:52.381 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 14:32:52.568 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 14:32:52.596 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 14:32:52.675 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 302 
2020-06-10 14:32:52.899 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：302 条 
2020-06-10 14:32:52.914 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 14:32:52.915 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 14:32:53.324 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 14:32:53.348 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 14:32:53.348 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 14:32:53.472 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 14:32:53.706 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:32:53.732 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-10 14:32:53.734 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.397 seconds (JVM running for 4.843) 
2020-06-10 14:32:53.736 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-10 14:32:53.880 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-10 14:32:53.880 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-10 14:32:53.891 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 10 ms 
2020-06-10 14:32:53.933 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:32:53.942 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:32:53.956 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:32:53.961 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:32:53.962 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:32:53.970 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:32:53.975 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:32:53.976 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:32:53.982 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:32:53.988 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:32:53.988 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:32:53.993 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:32:53.997 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:32:53.998 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:32:54.005 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:32:54.009 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:32:54.010 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:32:54.010 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:32:54.010 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:32:54.017 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:32:54.021 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:32:54.021 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:32:54.025 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:32:54.029 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:32:54.030 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:32:54.044 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:32:54.048 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:32:54.049 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:32:54.049 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:32:54.050 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:32:54.054 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:32:54.059 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:32:54.060 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:32:54.064 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:32:54.068 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:32:54.069 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:32:54.073 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:32:54.076 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:32:54.076 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:32:54.081 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:32:54.088 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:32:54.088 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:32:54.093 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:32:54.098 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:32:54.101 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:32:54.107 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:32:54.204 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:0 
2020-06-10 14:33:52.266 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 15384 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 14:33:52.271 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 14:33:52.271 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 14:33:53.724 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 14:33:53.736 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:33:53.736 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 14:33:53.737 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 14:33:53.805 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 14:33:53.805 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1443 ms 
2020-06-10 14:33:53.884 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 14:33:54.149 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 14:33:54.743 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 14:33:54.952 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 14:33:54.976 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 14:33:55.051 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 302 
2020-06-10 14:33:55.273 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：302 条 
2020-06-10 14:33:55.284 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 14:33:55.284 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 14:33:55.786 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 14:33:55.810 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 14:33:55.811 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 14:33:55.929 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 14:33:56.168 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:33:56.193 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-10 14:33:56.196 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.481 seconds (JVM running for 4.924) 
2020-06-10 14:33:56.197 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-10 14:33:56.383 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-10 14:33:56.384 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-10 14:33:56.392 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 8 ms 
2020-06-10 14:33:56.431 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:33:56.437 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:33:56.447 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:33:56.452 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:33:56.453 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:33:56.461 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:33:56.466 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:33:56.466 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:33:56.472 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:33:56.477 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:33:56.478 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:33:56.483 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:33:56.487 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:33:56.488 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:33:56.494 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:33:56.498 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:33:56.499 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:33:56.500 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:33:56.500 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:33:56.505 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:33:56.510 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:33:56.510 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:33:56.515 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:33:56.520 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:33:56.520 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:33:56.534 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:33:56.539 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:33:56.540 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:33:56.540 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:33:56.541 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:33:56.545 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:33:56.550 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:33:56.550 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:33:56.555 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:33:56.559 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:33:56.559 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:33:56.565 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:33:56.574 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:33:56.574 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:33:56.579 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:33:56.584 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:33:56.585 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:33:56.591 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:33:56.596 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:33:56.604 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:33:56.609 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:33:56.719 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:0 
2020-06-10 14:37:41.365 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 10572 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 14:37:41.370 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 14:37:41.371 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 14:37:42.960 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 14:37:42.971 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:37:42.972 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 14:37:42.972 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 14:37:43.047 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 14:37:43.047 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1553 ms 
2020-06-10 14:37:43.126 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 14:37:43.409 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 14:37:44.054 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 14:37:44.249 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 14:37:44.269 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 14:37:44.359 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 302 
2020-06-10 14:37:44.600 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：302 条 
2020-06-10 14:37:44.617 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 14:37:44.618 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 14:37:45.142 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 14:37:45.168 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 14:37:45.169 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 14:37:45.282 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:37:45.283 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:37:45.291 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:37:45.303 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:37:45.303 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:37:45.312 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:37:45.317 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:37:45.318 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:37:45.323 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:37:45.327 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:37:45.328 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:37:45.333 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:37:45.338 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:37:45.339 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:37:45.344 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:37:45.348 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:37:45.349 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:37:45.349 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:37:45.350 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:37:45.354 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:37:45.372 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:37:45.372 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:37:45.378 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:37:45.385 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:37:45.385 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:37:45.399 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:37:45.403 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:37:45.404 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:37:45.405 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:37:45.405 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:37:45.410 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:37:45.414 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:37:45.428 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 14:37:45.415 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:37:45.435 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:37:45.439 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:37:45.440 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:37:45.444 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:37:45.448 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:37:45.449 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:37:45.453 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:37:45.458 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:37:45.458 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:37:45.462 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:37:45.466 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:37:45.467 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:37:45.471 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:37:45.546 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:0 
2020-06-10 14:37:45.802 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:37:45.815 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Pausing ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:37:45.816 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Stopping service [Tomcat] 
2020-06-10 14:37:45.819 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Stopping ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:37:45.819 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Destroying ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:37:45.821 [INFO ] o.s.b.a.l.ConditionEvaluationReportLoggingListener - [logMessage:136]     Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled. 
2020-06-10 14:37:45.823 [ERROR] o.s.b.diagnostics.LoggingFailureAnalysisReporter   - [report:40]     ***************************  APPLICATION FAILED TO START  ***************************    Description:    Web server failed to start. Port 8080 was already in use.    Action:    Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.   
2020-06-10 14:37:45.825 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [shutdown:208] Shutting down ExecutorService 'applicationTaskExecutor' 
2020-06-10 14:37:45.829 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [close:1825] {dataSource-1} closed 
2020-06-10 14:37:49.158 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:37:49.159 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:37:49.165 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:37:49.171 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:37:49.172 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:37:49.178 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:37:49.184 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:37:49.185 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:37:49.190 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:37:49.197 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:37:49.198 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:37:49.203 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:37:49.208 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:37:49.209 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:37:49.214 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:37:49.218 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:37:49.219 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:37:49.219 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:37:49.220 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:37:49.224 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:37:49.229 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:37:49.230 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:37:49.234 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:37:49.239 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:37:49.240 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:37:49.254 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:37:49.258 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:37:49.258 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:37:49.258 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:37:49.259 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:37:49.263 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:37:49.268 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:37:49.269 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:37:49.273 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:37:49.279 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:37:49.280 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:37:49.284 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:37:49.290 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:37:49.291 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:37:49.298 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:37:49.303 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:37:49.304 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:37:49.309 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:37:49.315 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:37:49.316 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:37:49.320 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:37:49.343 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:0 
2020-06-10 14:37:52.799 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:37:52.799 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:37:52.804 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:37:52.808 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:37:52.809 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:37:52.814 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:37:52.819 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:37:52.820 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:37:52.825 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:37:52.830 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:37:52.830 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:37:52.834 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:37:52.839 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:37:52.839 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:37:52.844 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:37:52.848 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:37:52.848 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:37:52.849 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:37:52.849 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:37:52.854 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:37:52.859 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:37:52.859 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:37:52.864 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:37:52.869 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:37:52.869 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:37:52.888 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:37:52.892 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:37:52.892 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:37:52.893 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:37:52.893 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:37:52.897 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:37:52.902 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:37:52.902 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:37:52.907 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:37:52.912 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:37:52.913 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:37:52.920 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:37:52.925 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:37:52.926 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:37:52.930 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:37:52.935 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:37:52.936 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:37:52.943 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:37:52.948 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:37:52.948 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:37:52.958 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:37:52.982 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:0 
2020-06-10 14:38:06.263 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:38:06.263 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:06.270 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:38:06.277 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:38:06.277 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:06.283 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:38:06.288 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:38:06.288 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:38:06.293 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:38:06.298 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:38:06.298 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:06.303 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:38:06.308 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:06.309 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:06.315 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:38:06.320 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:38:06.320 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:38:06.321 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:06.321 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:06.326 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:38:06.331 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:06.331 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:06.339 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:38:06.344 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:06.344 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:06.359 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:38:06.364 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:38:06.364 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:38:06.364 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:06.365 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:06.372 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:06.415 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:06.416 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:06.422 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:06.426 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:06.427 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:06.433 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:06.437 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:06.437 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:06.442 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:06.447 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:06.447 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:06.452 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:06.457 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:06.457 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:06.462 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:06.502 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:38:06.506 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表性别与一级医院住院病案首页性别不一致 
2020-06-10 14:38:06.511 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:38:06.516 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:现住址未填写同时满足以下条件： 1、现住址中的省、市、区都为空值 2、现住址中的详细地址为空值 
2020-06-10 14:38:06.518 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:38:06.520 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:38:06.522 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 14:38:06.526 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:7 
2020-06-10 14:38:06.549 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:38:06.550 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:38:06.526(Timestamp), 31011310200312009116(String), 6881bfae85f5495f874dab4fa50e70ec(String), 2020-06-10 14:38:06.526(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:38:06.526(Timestamp), 31011310200312009116(String), b3bb8566dc154106b6a400f40a0fe914(String), 2020-06-10 14:38:06.526(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:38:06.526(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:38:06.526(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 14:38:06.526(Timestamp) 
2020-06-10 14:38:06.582 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 7 
2020-06-10 14:38:10.467 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:38:10.468 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:10.479 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:38:10.484 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:38:10.485 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:10.491 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:38:10.498 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:38:10.498 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:38:10.505 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:38:10.512 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:38:10.512 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:10.524 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:38:10.538 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:10.539 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:10.548 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:38:10.552 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:38:10.553 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:38:10.553 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:10.554 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:10.561 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:38:10.565 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:10.566 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:10.571 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:38:10.575 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:10.576 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:10.593 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:38:10.598 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:38:10.599 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:38:10.599 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:10.600 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:10.609 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:10.614 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:10.614 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:10.622 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:10.627 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:10.628 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:10.634 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:10.638 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:10.639 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:10.644 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:10.650 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:10.651 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:10.656 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:10.662 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:10.663 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:10.670 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:10.690 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:38:10.691 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表性别与一级医院住院病案首页性别不一致 
2020-06-10 14:38:10.692 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:38:10.693 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:现住址长度异常长度>100字符（包含省市区、乡镇街道名称（如有）、村居委会名称（如有）、详细地址） 
2020-06-10 14:38:10.695 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:38:10.696 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:38:10.696 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 14:38:10.698 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:7 
2020-06-10 14:38:10.699 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:38:10.699 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:38:10.698(Timestamp), 31011310200312009116(String), 6881bfae85f5495f874dab4fa50e70ec(String), 2020-06-10 14:38:10.698(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:38:10.698(Timestamp), 31011310200312009116(String), 91665e0b2efa4f86aea807ec9f4883c3(String), 2020-06-10 14:38:10.698(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:38:10.698(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:38:10.698(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 14:38:10.698(Timestamp) 
2020-06-10 14:38:10.733 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 7 
2020-06-10 14:38:15.699 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:38:15.700 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:15.709 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:38:15.713 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:38:15.714 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:15.720 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:38:15.725 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:38:15.725 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:38:15.733 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:38:15.738 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:38:15.739 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:15.743 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:38:15.748 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:15.749 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:15.754 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:38:15.758 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:38:15.759 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:38:15.760 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:15.760 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:15.765 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:38:15.770 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:15.770 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:15.775 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:38:15.779 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:15.780 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:15.794 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:38:15.798 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:38:15.798 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:38:15.799 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:15.799 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:15.803 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:15.807 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:15.808 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:15.813 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:15.817 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:15.818 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:15.822 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:15.826 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:15.826 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:15.830 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:15.835 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:15.835 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:15.839 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:15.844 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:15.845 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:15.849 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:15.864 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:38:15.865 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表性别与一级医院住院病案首页性别不一致 
2020-06-10 14:38:15.866 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:38:15.869 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:38:15.870 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:38:15.870 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 14:38:15.871 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-10 14:38:15.872 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:38:15.873 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:38:15.871(Timestamp), 31011310200312009116(String), 6881bfae85f5495f874dab4fa50e70ec(String), 2020-06-10 14:38:15.871(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:38:15.871(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:38:15.871(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:38:15.871(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 14:38:15.871(Timestamp) 
2020-06-10 14:38:15.888 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-10 14:38:19.682 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:38:19.682 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:19.688 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:38:19.691 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:38:19.692 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:19.696 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:38:19.701 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:38:19.701 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:38:19.706 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:38:19.711 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:38:19.711 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:19.715 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:38:19.719 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:19.719 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:19.726 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:38:19.849 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:38:19.849 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:38:19.850 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:19.851 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:19.855 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:38:19.860 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:19.861 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:19.865 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:38:19.870 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:19.871 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:19.885 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:38:19.890 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:38:19.891 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:38:19.891 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:19.892 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:19.896 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:19.901 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:19.901 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:19.907 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:19.911 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:19.911 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:19.915 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:19.919 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:19.919 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:19.924 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:19.927 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:19.927 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:19.932 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:19.936 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:19.937 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:19.941 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:19.956 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:户籍地址长度异常长度>100字符（包含省市区、乡镇街道名称（如有）、村居委会名称（如有）、详细地址） 
2020-06-10 14:38:19.957 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:38:19.958 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表性别与一级医院住院病案首页性别不一致 
2020-06-10 14:38:19.959 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:38:19.962 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:38:19.963 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:38:19.963 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 14:38:19.965 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:7 
2020-06-10 14:38:19.966 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:38:19.966 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 329b69c7855544e986fc0073b77fe9be(String), 2020-06-10 14:38:19.965(Timestamp), 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:38:19.965(Timestamp), 31011310200312009116(String), 6881bfae85f5495f874dab4fa50e70ec(String), 2020-06-10 14:38:19.965(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:38:19.965(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:38:19.965(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:38:19.965(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 14:38:19.965(Timestamp) 
2020-06-10 14:38:19.998 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 7 
2020-06-10 14:38:23.404 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:38:23.404 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:23.409 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:38:23.413 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:38:23.414 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:23.419 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:38:23.423 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:38:23.424 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:38:23.428 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:38:23.433 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:38:23.433 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:23.439 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:38:23.443 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:23.443 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:23.452 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:38:23.456 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:38:23.456 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:38:23.457 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:23.457 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:23.461 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:38:23.465 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:23.466 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:23.470 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:38:23.476 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:23.477 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:23.490 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:38:23.495 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:38:23.495 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:38:23.495 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:23.496 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:23.500 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:23.505 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:23.506 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:23.510 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:23.515 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:23.515 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:23.520 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:23.524 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:23.525 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:23.529 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:23.533 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:23.533 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:23.538 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:23.542 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:23.543 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:23.547 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:23.561 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:38:23.561 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表性别与一级医院住院病案首页性别不一致 
2020-06-10 14:38:23.562 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:38:23.563 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话未填写联系电话为空值 
2020-06-10 14:38:23.565 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:38:23.566 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:38:23.567 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-10 14:38:23.568 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:38:23.568 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:38:23.567(Timestamp), 31011310200312009116(String), 6881bfae85f5495f874dab4fa50e70ec(String), 2020-06-10 14:38:23.567(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:38:23.567(Timestamp), 31011310200312009116(String), 8c22db3c92bb445b9712ca61107e8312(String), 2020-06-10 14:38:23.567(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:38:23.567(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:38:23.567(Timestamp) 
2020-06-10 14:38:23.603 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-10 14:38:27.057 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:38:27.057 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:27.062 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:38:27.067 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:38:27.068 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:27.072 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:38:27.079 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:38:27.079 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:38:27.086 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:38:27.090 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:38:27.091 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:27.096 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:38:27.100 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:27.100 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:27.106 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:38:27.111 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:38:27.111 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:38:27.111 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:27.112 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:27.116 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:38:27.121 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:27.122 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:27.126 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:38:27.131 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:27.132 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:27.145 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:38:27.150 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:38:27.150 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:38:27.150 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:27.151 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:27.155 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:27.160 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:27.161 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:27.165 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:27.171 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:27.172 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:27.178 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:27.183 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:27.183 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:27.187 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:27.192 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:27.192 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:27.197 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:27.201 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:27.202 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:27.206 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:27.223 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:38:27.224 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表性别与一级医院住院病案首页性别不一致 
2020-06-10 14:38:27.225 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:38:27.240 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:38:27.240 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话手机号码长度异常同时满足以下条件： 1、联系电话不为空值 2、联系电话为手机号码（是1开头判断为手机号） 3、号码长度小于11位或大于11位 
2020-06-10 14:38:27.241 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:38:27.241 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 14:38:27.242 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:7 
2020-06-10 14:38:27.243 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:38:27.243 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:38:27.242(Timestamp), 31011310200312009116(String), 6881bfae85f5495f874dab4fa50e70ec(String), 2020-06-10 14:38:27.242(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:38:27.242(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:38:27.242(Timestamp), 31011310200312009116(String), d07ab42169144816afe341ba43d0b68c(String), 2020-06-10 14:38:27.242(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:38:27.242(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 14:38:27.242(Timestamp) 
2020-06-10 14:38:27.258 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 7 
2020-06-10 14:38:30.652 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:38:30.653 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:30.658 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:38:30.662 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:38:30.662 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:30.668 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:38:30.672 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:38:30.672 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:38:30.677 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:38:30.682 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:38:30.682 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:30.686 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:38:30.691 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:30.691 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:30.696 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:38:30.701 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:38:30.701 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:38:30.702 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:30.702 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:30.706 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:38:30.710 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:30.711 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:30.715 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:38:30.719 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:30.720 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:30.734 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:38:30.738 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:38:30.738 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:38:30.738 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:30.739 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:30.745 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:30.750 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:30.751 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:30.755 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:30.761 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:30.762 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:30.767 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:30.772 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:30.773 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:30.778 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:30.784 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:30.785 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:30.790 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:30.796 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:30.796 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:30.801 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:30.820 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:手机号码校验失败同时满足以下条件： 1、联系电话不为空值 2、联系电话为手机号码（是1开头判断为手机号） 3、号码长度为11位，但是不存在这个号段（进行号段校验） 
2020-06-10 14:38:30.823 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:38:30.824 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表性别与一级医院住院病案首页性别不一致 
2020-06-10 14:38:30.825 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:38:30.828 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:38:30.829 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:38:30.829 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 14:38:30.830 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:7 
2020-06-10 14:38:30.831 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:38:30.832 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 18c8a8a81e25426f8a7958b46716c295(String), 2020-06-10 14:38:30.83(Timestamp), 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:38:30.83(Timestamp), 31011310200312009116(String), 6881bfae85f5495f874dab4fa50e70ec(String), 2020-06-10 14:38:30.83(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:38:30.83(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:38:30.83(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:38:30.83(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 14:38:30.83(Timestamp) 
2020-06-10 14:38:30.849 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 7 
2020-06-10 14:38:34.151 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:38:34.151 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:34.156 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:38:34.161 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:38:34.161 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:34.168 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:38:34.172 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:38:34.173 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:38:34.181 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:38:34.186 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:38:34.186 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:34.191 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:38:34.195 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:34.196 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:34.207 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:38:34.211 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:38:34.212 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:38:34.213 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:34.213 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:34.220 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:38:34.225 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:34.225 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:34.230 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:38:34.235 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:34.236 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:34.249 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:38:34.255 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:38:34.255 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:38:34.256 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:34.257 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:34.261 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:34.268 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:34.269 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:34.274 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:34.281 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:34.282 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:34.288 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:34.294 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:34.295 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:34.300 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:34.306 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:34.307 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:34.313 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:34.319 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:34.320 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:34.325 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:34.356 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:38:34.357 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（含区号）同时满足以下条件： 1、联系电话不为空值 2、联系电话为固定电话（是0开头判断为固定电话） 3、号码长度小于11位或大于12位 
2020-06-10 14:38:34.358 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表性别与一级医院住院病案首页性别不一致 
2020-06-10 14:38:34.360 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:38:34.365 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:38:34.366 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:38:34.366 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 14:38:34.368 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:7 
2020-06-10 14:38:34.370 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:38:34.371 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:38:34.369(Timestamp), 31011310200312009116(String), 605d17cf2e38410da56726f765f8c34c(String), 2020-06-10 14:38:34.369(Timestamp), 31011310200312009116(String), 6881bfae85f5495f874dab4fa50e70ec(String), 2020-06-10 14:38:34.369(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:38:34.369(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:38:34.369(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:38:34.369(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 14:38:34.369(Timestamp) 
2020-06-10 14:38:34.418 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 7 
2020-06-10 14:38:37.822 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:38:37.823 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:37.828 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:38:37.832 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:38:37.833 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:37.838 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:38:37.843 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:38:37.844 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:38:37.850 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:38:37.855 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:38:37.856 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:37.861 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:38:37.866 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:37.867 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:37.874 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:38:37.879 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:38:37.880 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:38:37.881 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:37.881 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:37.887 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:38:37.892 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:37.892 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:37.898 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:38:37.903 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:37.903 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:37.916 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:38:37.920 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:38:37.920 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:38:37.921 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:37.921 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:37.926 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:37.930 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:37.930 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:37.934 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:37.938 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:37.939 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:37.943 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:37.947 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:37.947 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:37.951 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:37.956 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:37.956 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:37.960 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:37.965 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:37.966 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:37.970 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:37.981 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:38:37.982 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表性别与一级医院住院病案首页性别不一致 
2020-06-10 14:38:37.983 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:38:37.984 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系电话不为空值 2、联系电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:38:37.985 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:38:37.986 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:38:37.986 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 14:38:37.987 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:7 
2020-06-10 14:38:37.988 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:38:37.988 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:38:37.987(Timestamp), 31011310200312009116(String), 6881bfae85f5495f874dab4fa50e70ec(String), 2020-06-10 14:38:37.987(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:38:37.987(Timestamp), 31011310200312009116(String), b0d2d6a11e4b476b813f99750cb00786(String), 2020-06-10 14:38:37.987(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:38:37.987(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:38:37.987(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 14:38:37.987(Timestamp) 
2020-06-10 14:38:38.001 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 7 
2020-06-10 14:38:41.387 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:38:41.388 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:41.395 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:38:41.401 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:38:41.401 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:41.407 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:38:41.412 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:38:41.412 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:38:41.419 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:38:41.424 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:38:41.425 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:41.429 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:38:41.434 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:41.435 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:41.440 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:38:41.444 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:38:41.444 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:38:41.445 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:41.445 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:41.449 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:38:41.454 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:41.455 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:41.459 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:38:41.463 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:41.464 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:41.478 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:38:41.482 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:38:41.482 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:38:41.483 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:41.483 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:41.488 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:41.492 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:41.493 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:41.497 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:41.503 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:41.504 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:41.510 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:41.515 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:41.516 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:41.521 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:41.528 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:41.529 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:41.534 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:41.540 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:41.541 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:41.546 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:41.578 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:38:41.580 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表性别与一级医院住院病案首页性别不一致 
2020-06-10 14:38:41.583 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:38:41.587 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:38:41.588 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:38:41.588 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 14:38:41.590 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-10 14:38:41.591 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:38:41.592 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:38:41.59(Timestamp), 31011310200312009116(String), 6881bfae85f5495f874dab4fa50e70ec(String), 2020-06-10 14:38:41.59(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:38:41.59(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:38:41.59(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:38:41.59(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 14:38:41.59(Timestamp) 
2020-06-10 14:38:41.609 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-10 14:38:44.996 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:38:44.997 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:45.008 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:38:45.013 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:38:45.013 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:45.017 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:38:45.022 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:38:45.022 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:38:45.027 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:38:45.031 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:38:45.031 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:45.036 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:38:45.040 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:45.040 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:45.046 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:38:45.050 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:38:45.050 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:38:45.051 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:45.051 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:45.055 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:38:45.059 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:45.060 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:45.064 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:38:45.069 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:45.069 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:45.083 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:38:45.087 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:38:45.088 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:38:45.089 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:45.089 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:45.093 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:45.098 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:45.098 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:45.102 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:45.107 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:45.108 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:45.112 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:45.117 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:45.117 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:45.121 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:45.126 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:45.126 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:45.130 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:45.135 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:45.135 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:45.139 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:45.151 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话数字只包含一个数字，如99999999 
2020-06-10 14:38:45.153 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:38:45.153 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表性别与一级医院住院病案首页性别不一致 
2020-06-10 14:38:45.154 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:38:45.155 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系电话不为空值 2、联系电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:38:45.156 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:38:45.157 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:38:45.158 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:7 
2020-06-10 14:38:45.158 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:38:45.159 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2be6482767e14818889eee74b5263746(String), 2020-06-10 14:38:45.158(Timestamp), 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:38:45.158(Timestamp), 31011310200312009116(String), 6881bfae85f5495f874dab4fa50e70ec(String), 2020-06-10 14:38:45.158(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:38:45.158(Timestamp), 31011310200312009116(String), b0d2d6a11e4b476b813f99750cb00786(String), 2020-06-10 14:38:45.158(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:38:45.158(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:38:45.158(Timestamp) 
2020-06-10 14:38:45.175 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 7 
2020-06-10 14:38:50.089 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:38:50.089 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:50.100 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:38:50.105 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:38:50.106 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:50.117 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:38:50.123 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:38:50.124 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:38:50.131 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:38:50.137 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:38:50.138 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:50.144 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:38:50.149 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:50.150 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:50.165 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:38:50.172 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:38:50.173 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:38:50.174 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:50.174 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:50.183 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:38:50.189 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:50.190 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:50.197 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:38:50.207 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:50.208 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:50.227 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:38:50.232 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:38:50.232 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:38:50.233 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:50.234 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:50.238 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:50.243 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:50.244 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:50.252 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:50.258 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:50.259 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:50.264 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:50.270 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:50.271 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:50.275 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:50.280 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:50.281 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:50.285 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:50.291 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:50.292 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:50.297 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:50.320 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:现住址市乡镇（街道）名称未填写乡镇（街道）名称为空值 
2020-06-10 14:38:50.320 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:38:50.321 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表性别与一级医院住院病案首页性别不一致 
2020-06-10 14:38:50.321 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:38:50.323 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:38:50.324 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:38:50.324 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 14:38:50.325 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:7 
2020-06-10 14:38:50.325 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:38:50.326 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5989fb6d82aa4e618e2e5cdc2c36e01f(String), 2020-06-10 14:38:50.325(Timestamp), 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:38:50.325(Timestamp), 31011310200312009116(String), 6881bfae85f5495f874dab4fa50e70ec(String), 2020-06-10 14:38:50.325(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:38:50.325(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:38:50.325(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:38:50.325(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 14:38:50.325(Timestamp) 
2020-06-10 14:38:50.355 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 7 
2020-06-10 14:38:53.713 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:38:53.713 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:53.728 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:38:53.733 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:38:53.734 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:53.740 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:38:53.745 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:38:53.745 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:38:53.755 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:38:53.760 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:38:53.761 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:53.765 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:38:53.769 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:53.770 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:53.776 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:38:53.780 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:38:53.780 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:38:53.781 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:53.781 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:53.785 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:38:53.789 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:53.790 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:53.794 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:38:53.798 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:53.798 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:53.812 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:38:53.816 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:38:53.816 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:38:53.817 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:53.817 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:53.821 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:53.826 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:53.827 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:53.832 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:53.837 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:53.837 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:53.841 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:53.845 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:53.845 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:53.849 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:53.853 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:53.854 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:53.859 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:53.863 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:53.863 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:53.868 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:53.879 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:现住址乡镇（街道）名称不为汉字乡镇（街道）名称不为汉字 
2020-06-10 14:38:53.881 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:38:53.881 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表性别与一级医院住院病案首页性别不一致 
2020-06-10 14:38:53.882 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:38:53.884 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:38:53.885 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:38:53.885 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 14:38:53.886 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:7 
2020-06-10 14:38:53.887 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:38:53.887 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 2519a198f15a41ea970cf518d3c4bd89(String), 2020-06-10 14:38:53.886(Timestamp), 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:38:53.886(Timestamp), 31011310200312009116(String), 6881bfae85f5495f874dab4fa50e70ec(String), 2020-06-10 14:38:53.886(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:38:53.886(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:38:53.886(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:38:53.886(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 14:38:53.886(Timestamp) 
2020-06-10 14:38:53.907 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 7 
2020-06-10 14:38:57.651 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:38:57.652 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:57.657 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:38:57.660 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:38:57.661 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:38:57.671 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:38:57.677 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:38:57.678 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:38:57.684 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:38:57.688 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:38:57.689 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:57.695 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:38:57.699 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:57.700 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:57.710 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:38:57.714 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:38:57.714 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:38:57.714 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:57.715 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:57.726 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:38:57.731 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:38:57.731 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:57.735 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:38:57.739 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:38:57.740 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:38:57.754 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:38:57.759 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:38:57.760 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:38:57.760 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:57.760 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:57.765 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:57.770 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:57.771 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:38:57.775 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:57.780 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:57.781 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:57.785 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:57.790 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:57.791 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:38:57.795 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:57.800 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:57.800 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:57.804 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:38:57.809 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:38:57.809 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:38:57.814 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:38:57.832 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:现住址乡镇（街道）名称长度异常长度>100字符 
2020-06-10 14:38:57.834 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:38:57.835 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表性别与一级医院住院病案首页性别不一致 
2020-06-10 14:38:57.837 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:38:57.838 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:现住址长度异常长度>100字符（包含省市区、乡镇街道名称（如有）、村居委会名称（如有）、详细地址） 
2020-06-10 14:38:57.840 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:38:57.841 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:38:57.842 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 14:38:57.843 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:8 
2020-06-10 14:38:57.845 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:38:57.845 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 40c92f3721704bb7a6eb42a8ca1976b6(String), 2020-06-10 14:38:57.844(Timestamp), 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:38:57.844(Timestamp), 31011310200312009116(String), 6881bfae85f5495f874dab4fa50e70ec(String), 2020-06-10 14:38:57.844(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:38:57.844(Timestamp), 31011310200312009116(String), 91665e0b2efa4f86aea807ec9f4883c3(String), 2020-06-10 14:38:57.844(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:38:57.844(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:38:57.844(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 14:38:57.844(Timestamp) 
2020-06-10 14:38:57.856 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 8 
2020-06-10 14:39:01.207 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:39:01.207 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:39:01.213 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:39:01.217 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:39:01.218 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:39:01.223 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:39:01.228 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:39:01.228 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:39:01.233 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:39:01.237 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:39:01.238 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:39:01.243 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:39:01.248 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:39:01.248 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:39:01.254 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:39:01.258 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:39:01.258 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:39:01.259 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:39:01.259 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:39:01.264 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:39:01.268 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:39:01.269 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:39:01.275 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:39:01.280 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:39:01.281 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:39:01.295 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:39:01.299 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:39:01.299 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:39:01.300 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:01.300 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:39:01.304 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:39:01.309 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:01.309 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:39:01.314 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:39:01.318 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:01.318 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:39:01.322 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:39:01.327 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:01.327 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:39:01.331 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:39:01.336 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:01.336 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:39:01.341 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:39:01.346 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:01.346 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:39:01.351 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:39:01.380 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:39:01.384 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:现住址村（居）委会名称未填写村（居）委会名称为空值 
2020-06-10 14:39:01.384 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表性别与一级医院住院病案首页性别不一致 
2020-06-10 14:39:01.385 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:39:01.388 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:39:01.389 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:39:01.389 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 14:39:01.391 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:7 
2020-06-10 14:39:01.392 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:39:01.392 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:39:01.391(Timestamp), 31011310200312009116(String), 647ba5f94d274d04955478e4c7e9a593(String), 2020-06-10 14:39:01.391(Timestamp), 31011310200312009116(String), 6881bfae85f5495f874dab4fa50e70ec(String), 2020-06-10 14:39:01.391(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:39:01.391(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:39:01.391(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:39:01.391(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 14:39:01.391(Timestamp) 
2020-06-10 14:39:01.405 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 7 
2020-06-10 14:39:05.169 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:39:05.169 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:39:05.175 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:39:05.179 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:39:05.180 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:39:05.185 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:39:05.189 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:39:05.190 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:39:05.195 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:39:05.199 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:39:05.200 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:39:05.204 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:39:05.209 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:39:05.209 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:39:05.216 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:39:05.220 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:39:05.221 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:39:05.221 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:39:05.222 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:39:05.226 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:39:05.231 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:39:05.231 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:39:05.237 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:39:05.241 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:39:05.242 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:39:05.255 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:39:05.260 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:39:05.260 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:39:05.261 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:05.261 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:39:05.266 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:39:05.271 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:05.271 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:39:05.275 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:39:05.280 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:05.281 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:39:05.285 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:39:05.289 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:05.290 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:39:05.295 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:39:05.299 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:05.300 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:39:05.304 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:39:05.309 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:05.310 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:39:05.314 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:39:05.352 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:39:05.355 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表性别与一级医院住院病案首页性别不一致 
2020-06-10 14:39:05.359 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:39:05.366 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:现住址村（居）委会名称不为汉字村（居）委会名称不为汉字 
2020-06-10 14:39:05.371 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:39:05.373 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:39:05.373 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 14:39:05.379 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:7 
2020-06-10 14:39:05.380 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:39:05.380 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:39:05.379(Timestamp), 31011310200312009116(String), 6881bfae85f5495f874dab4fa50e70ec(String), 2020-06-10 14:39:05.379(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:39:05.379(Timestamp), 31011310200312009116(String), ac0fdca3fa96484680d8a0871d00eb3b(String), 2020-06-10 14:39:05.379(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:39:05.379(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:39:05.379(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 14:39:05.379(Timestamp) 
2020-06-10 14:39:05.405 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 7 
2020-06-10 14:39:08.778 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:39:08.778 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:39:08.785 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:39:08.789 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:39:08.790 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:39:08.794 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:39:08.800 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:39:08.800 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:39:08.806 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:39:08.811 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:39:08.811 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:39:08.815 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:39:08.820 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:39:08.821 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:39:08.827 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:39:08.831 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:39:08.831 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:39:08.831 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:39:08.831 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:39:08.836 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:39:08.840 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:39:08.841 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:39:08.845 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:39:08.849 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:39:08.850 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:39:08.863 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:39:08.867 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:39:08.868 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:39:08.868 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:08.868 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:39:08.872 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:39:08.876 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:08.877 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:39:08.881 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:39:08.885 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:08.886 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:39:08.890 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:39:08.894 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:08.895 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:39:08.899 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:39:08.903 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:08.903 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:39:08.907 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:39:08.911 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:08.912 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:39:08.915 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:39:08.928 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:39:08.929 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表性别与一级医院住院病案首页性别不一致 
2020-06-10 14:39:08.930 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:39:08.931 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:现住址长度异常长度>100字符（包含省市区、乡镇街道名称（如有）、村居委会名称（如有）、详细地址） 
2020-06-10 14:39:08.932 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:现住址村（居）委会名称长度异常长度>100字符 
2020-06-10 14:39:08.934 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:39:08.934 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:39:08.935 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 14:39:08.936 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:8 
2020-06-10 14:39:08.937 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:39:08.937 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:39:08.936(Timestamp), 31011310200312009116(String), 6881bfae85f5495f874dab4fa50e70ec(String), 2020-06-10 14:39:08.936(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:39:08.936(Timestamp), 31011310200312009116(String), 91665e0b2efa4f86aea807ec9f4883c3(String), 2020-06-10 14:39:08.936(Timestamp), 31011310200312009116(String), 9df07515be3d4c2887e947c6ce5adace(String), 2020-06-10 14:39:08.936(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:39:08.936(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:39:08.936(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 14:39:08.936(Timestamp) 
2020-06-10 14:39:08.952 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 8 
2020-06-10 14:39:12.325 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:39:12.326 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:39:12.331 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:39:12.336 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:39:12.337 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:39:12.343 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:39:12.349 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:39:12.350 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:39:12.357 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:39:12.363 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:39:12.364 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:39:12.369 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:39:12.375 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:39:12.376 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:39:12.382 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:39:12.387 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:39:12.388 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:39:12.389 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:39:12.390 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:39:12.395 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:39:12.400 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:39:12.401 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:39:12.406 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:39:12.411 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:39:12.412 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:39:12.426 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:39:12.431 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:39:12.432 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:39:12.433 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:12.434 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:39:12.438 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:39:12.444 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:12.445 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:39:12.451 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:39:12.456 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:12.457 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:39:12.461 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:39:12.465 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:12.466 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:39:12.470 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:39:12.475 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:12.475 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:39:12.480 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:39:12.484 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:12.485 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:39:12.489 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:39:12.505 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:39:12.506 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表性别与一级医院住院病案首页性别不一致 
2020-06-10 14:39:12.507 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:39:12.510 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:建档单位未填写建档单位为空值 
2020-06-10 14:39:12.510 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:39:12.511 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:39:12.511 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 14:39:12.513 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:7 
2020-06-10 14:39:12.514 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:39:12.515 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:39:12.513(Timestamp), 31011310200312009116(String), 6881bfae85f5495f874dab4fa50e70ec(String), 2020-06-10 14:39:12.513(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:39:12.513(Timestamp), 31011310200312009116(String), c2d756b07b7540e79209ad532c666dfc(String), 2020-06-10 14:39:12.513(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:39:12.513(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:39:12.513(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 14:39:12.513(Timestamp) 
2020-06-10 14:39:12.551 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 7 
2020-06-10 14:39:15.899 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:39:15.899 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:39:15.904 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:39:15.908 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:39:15.908 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:39:15.913 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:39:15.917 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:39:15.917 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:39:15.922 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:39:15.926 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:39:15.926 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:39:15.931 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:39:15.935 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:39:15.936 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:39:15.942 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:39:15.947 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:39:15.947 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:39:15.948 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:39:15.949 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:39:15.954 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:39:15.960 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:39:15.960 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:39:15.966 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:39:15.972 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:39:15.973 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:39:15.987 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:39:15.992 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:39:15.993 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:39:15.994 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:15.994 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:39:15.999 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:39:16.004 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:16.005 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:39:16.010 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:39:16.016 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:16.016 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:39:16.021 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:39:16.028 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:16.029 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:39:16.034 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:39:16.040 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:16.040 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:39:16.046 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:39:16.051 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:16.052 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:39:16.057 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:39:16.086 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:建档单位长度异常长度>100字符 
2020-06-10 14:39:16.087 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:39:16.088 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表性别与一级医院住院病案首页性别不一致 
2020-06-10 14:39:16.089 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:39:16.092 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:39:16.093 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:39:16.093 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 14:39:16.095 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:7 
2020-06-10 14:39:16.096 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:39:16.097 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 403a97f9ec40406b9723b3c6845a6cee(String), 2020-06-10 14:39:16.095(Timestamp), 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:39:16.095(Timestamp), 31011310200312009116(String), 6881bfae85f5495f874dab4fa50e70ec(String), 2020-06-10 14:39:16.095(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:39:16.095(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:39:16.095(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:39:16.095(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 14:39:16.095(Timestamp) 
2020-06-10 14:39:16.117 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 7 
2020-06-10 14:39:19.516 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:39:19.517 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:39:19.530 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:39:19.534 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:39:19.535 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:39:19.539 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:39:19.543 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:39:19.543 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:39:19.548 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:39:19.553 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:39:19.553 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:39:19.557 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:39:19.561 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:39:19.561 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:39:19.568 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:39:19.572 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:39:19.572 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:39:19.572 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:39:19.572 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:39:19.576 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:39:19.581 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:39:19.581 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:39:19.585 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:39:19.591 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:39:19.591 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:39:19.604 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:39:19.609 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:39:19.609 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:39:19.609 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:19.609 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:39:19.613 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:39:19.618 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:19.618 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:39:19.623 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:39:19.627 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:19.628 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:39:19.632 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:39:19.636 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:19.637 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:39:19.641 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:39:19.645 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:19.646 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:39:19.650 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:39:19.655 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:39:19.655 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:39:19.660 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:39:19.672 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:39:19.673 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表性别与一级医院住院病案首页性别不一致 
2020-06-10 14:39:19.674 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:39:19.675 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:建档人未填写建档人为空值 
2020-06-10 14:39:19.676 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:39:19.676 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:39:19.677 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 14:39:19.677 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:7 
2020-06-10 14:39:19.678 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:39:19.678 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:39:19.677(Timestamp), 31011310200312009116(String), 6881bfae85f5495f874dab4fa50e70ec(String), 2020-06-10 14:39:19.677(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:39:19.677(Timestamp), 31011310200312009116(String), b36febf99ee24323a59f6e04c22ce60d(String), 2020-06-10 14:39:19.677(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:39:19.677(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:39:19.677(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 14:39:19.677(Timestamp) 
2020-06-10 14:39:19.693 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 7 
2020-06-10 14:39:40.960 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 9868 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 14:39:40.963 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 14:39:40.963 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 14:39:42.443 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 14:39:42.456 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:39:42.456 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 14:39:42.457 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 14:39:42.524 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 14:39:42.525 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1484 ms 
2020-06-10 14:39:42.620 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 14:39:42.871 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 14:39:43.467 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 14:39:43.667 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 14:39:43.686 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 14:39:43.763 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 302 
2020-06-10 14:39:43.959 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：302 条 
2020-06-10 14:39:43.969 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 14:39:43.969 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 14:39:44.424 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 14:39:44.446 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 14:39:44.447 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 14:39:44.550 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 14:39:44.760 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:39:44.784 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-10 14:39:44.787 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.351 seconds (JVM running for 4.787) 
2020-06-10 14:39:44.788 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-10 14:40:14.704 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 13424 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 14:40:14.708 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 14:40:14.708 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 14:40:16.217 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 14:40:16.231 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:40:16.232 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 14:40:16.232 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 14:40:16.303 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 14:40:16.303 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1490 ms 
2020-06-10 14:40:16.393 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 14:40:16.553 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 14:40:17.228 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 14:40:17.466 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 14:40:17.484 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 14:40:17.567 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 302 
2020-06-10 14:40:17.811 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：302 条 
2020-06-10 14:40:17.823 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 14:40:17.823 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 14:40:18.256 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 14:40:18.286 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 14:40:18.286 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 14:40:18.434 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 14:40:18.644 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:40:18.670 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-10 14:40:18.673 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.522 seconds (JVM running for 4.988) 
2020-06-10 14:40:18.676 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-10 14:40:18.969 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-10 14:40:18.969 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-10 14:40:18.976 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 6 ms 
2020-06-10 14:40:19.010 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:40:19.017 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:40:19.028 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:40:19.033 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:40:19.033 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:40:19.051 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:40:19.055 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:40:19.056 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:40:19.064 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:40:19.073 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:40:19.074 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:40:19.082 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:40:19.091 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:40:19.092 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:40:19.098 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:40:19.105 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:40:19.106 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:40:19.106 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:40:19.107 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:40:19.113 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:40:19.120 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:40:19.120 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:40:19.127 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:40:19.132 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:40:19.133 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:40:19.147 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:40:19.153 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:40:19.154 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:40:19.155 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:40:19.156 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:40:19.161 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:40:19.168 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:40:19.169 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:40:19.175 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:40:19.184 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:40:19.186 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:40:19.197 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:40:19.206 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:40:19.206 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:40:19.212 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:40:19.217 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:40:19.218 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:40:19.224 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:40:19.230 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:40:19.231 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:40:19.238 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:40:19.336 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:40:19.337 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:姓名未填写姓名为空值 
2020-06-10 14:40:19.339 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表性别与一级医院住院病案首页性别不一致 
2020-06-10 14:40:19.344 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:40:19.352 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:建档人未填写建档人为空值 
2020-06-10 14:40:19.355 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:40:19.356 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:40:19.357 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 14:40:19.361 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:8 
2020-06-10 14:40:19.388 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:40:19.390 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:40:19.361(Timestamp), 31011310200312009116(String), 63eb82a44bf64c96a0b9023fa2a3c9d9(String), 2020-06-10 14:40:19.361(Timestamp), 31011310200312009116(String), 6881bfae85f5495f874dab4fa50e70ec(String), 2020-06-10 14:40:19.361(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:40:19.361(Timestamp), 31011310200312009116(String), b36febf99ee24323a59f6e04c22ce60d(String), 2020-06-10 14:40:19.361(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:40:19.361(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:40:19.361(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 14:40:19.361(Timestamp) 
2020-06-10 14:40:19.417 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 8 
2020-06-10 14:41:18.842 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 12516 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 14:41:18.848 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 14:41:18.848 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 14:41:20.501 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 14:41:20.512 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:41:20.513 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 14:41:20.513 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 14:41:20.589 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 14:41:20.589 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1652 ms 
2020-06-10 14:41:20.668 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 14:41:20.921 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 14:41:21.525 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 14:41:21.727 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 14:41:21.746 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 14:41:21.819 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 301 
2020-06-10 14:41:22.035 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：301 条 
2020-06-10 14:41:22.047 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 14:41:22.047 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 14:41:22.568 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 14:41:22.591 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 14:41:22.591 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 14:41:22.734 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 14:41:22.949 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:41:22.974 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-10 14:41:22.978 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.675 seconds (JVM running for 5.11) 
2020-06-10 14:41:22.979 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-10 14:41:23.122 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-10 14:41:23.123 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-10 14:41:23.130 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 7 ms 
2020-06-10 14:41:23.168 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:41:23.174 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:41:23.182 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:41:23.188 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:41:23.189 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:41:23.199 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:41:23.205 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:41:23.205 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:41:23.211 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:41:23.217 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:41:23.217 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:41:23.223 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:41:23.229 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:41:23.229 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:41:23.235 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:41:23.239 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:41:23.240 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:41:23.241 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:41:23.241 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:41:23.246 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:41:23.251 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:41:23.251 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:41:23.255 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:41:23.260 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:41:23.260 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:41:23.275 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:41:23.280 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:41:23.280 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:41:23.281 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:41:23.281 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:41:23.286 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:41:23.290 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:41:23.291 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:41:23.295 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:41:23.299 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:41:23.300 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:41:23.304 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:41:23.307 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:41:23.308 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:41:23.312 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:41:23.317 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:41:23.317 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:41:23.322 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:41:23.327 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:41:23.328 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:41:23.333 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:41:23.455 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:41:23.457 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:姓名未填写姓名为空值 
2020-06-10 14:41:23.472 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:41:23.486 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:建档人未填写建档人为空值 
2020-06-10 14:41:23.489 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:41:23.490 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:41:23.492 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 14:41:23.498 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:7 
2020-06-10 14:41:23.525 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:41:23.526 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:41:23.499(Timestamp), 31011310200312009116(String), 63eb82a44bf64c96a0b9023fa2a3c9d9(String), 2020-06-10 14:41:23.499(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:41:23.499(Timestamp), 31011310200312009116(String), b36febf99ee24323a59f6e04c22ce60d(String), 2020-06-10 14:41:23.499(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:41:23.499(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:41:23.499(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 14:41:23.499(Timestamp) 
2020-06-10 14:41:23.556 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 7 
2020-06-10 14:45:12.216 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 7728 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 14:45:12.220 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 14:45:12.220 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 14:45:13.734 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 14:45:13.745 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:45:13.746 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 14:45:13.746 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 14:45:13.812 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 14:45:13.812 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1505 ms 
2020-06-10 14:45:13.893 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 14:45:14.137 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 14:45:14.783 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 14:45:14.995 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 14:45:15.019 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 14:45:15.096 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 301 
2020-06-10 14:45:15.317 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：301 条 
2020-06-10 14:45:15.332 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 14:45:15.332 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 14:45:15.860 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 14:45:15.889 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 14:45:15.889 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 14:45:16.000 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 14:45:16.219 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:45:16.243 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-10 14:45:16.246 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.55 seconds (JVM running for 4.988) 
2020-06-10 14:45:16.247 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-10 14:45:16.357 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-10 14:45:16.358 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-10 14:45:16.368 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 10 ms 
2020-06-10 14:45:16.411 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:45:16.416 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:45:16.432 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:45:16.437 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:45:16.438 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:45:16.446 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:45:16.450 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:45:16.451 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:45:16.456 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:45:16.462 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:45:16.462 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:45:16.467 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:45:16.472 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:45:16.473 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:45:16.480 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:45:16.484 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:45:16.485 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:45:16.486 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:45:16.486 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:45:16.490 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:45:16.497 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:45:16.497 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:45:16.506 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:45:16.511 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:45:16.511 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:45:16.528 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:45:16.533 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:45:16.533 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:45:16.534 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:45:16.534 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:45:16.540 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:45:16.546 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:45:16.547 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:45:16.552 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:45:16.558 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:45:16.559 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:45:16.564 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:45:16.570 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:45:16.571 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:45:16.576 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:45:16.583 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:45:16.584 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:45:16.592 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:45:16.601 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:45:16.604 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:45:16.611 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:45:16.730 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:45:16.732 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:姓名未填写姓名为空值 
2020-06-10 14:45:16.739 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:45:16.746 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:建档人未填写建档人为空值 
2020-06-10 14:45:16.749 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:45:16.750 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:45:16.751 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 14:45:16.755 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:7 
2020-06-10 14:45:16.779 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:45:16.780 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:45:16.755(Timestamp), 31011310200312009116(String), 63eb82a44bf64c96a0b9023fa2a3c9d9(String), 2020-06-10 14:45:16.755(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:45:16.755(Timestamp), 31011310200312009116(String), b36febf99ee24323a59f6e04c22ce60d(String), 2020-06-10 14:45:16.755(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:45:16.755(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:45:16.755(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 14:45:16.755(Timestamp) 
2020-06-10 14:45:16.806 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 7 
2020-06-10 14:45:20.717 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:45:20.718 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:45:20.726 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:45:20.732 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:45:20.733 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:45:20.741 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:45:20.747 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:45:20.748 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:45:20.758 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:45:20.764 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:45:20.765 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:45:20.772 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:45:20.780 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:45:20.780 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:45:20.786 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:45:20.791 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:45:20.791 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:45:20.792 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:45:20.793 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:45:20.797 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:45:20.807 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:45:20.808 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:45:20.811 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:45:20.818 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:45:20.818 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:45:20.833 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:45:20.842 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:45:20.842 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:45:20.843 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:45:20.843 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:45:20.849 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:45:20.854 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:45:20.855 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:45:20.862 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:45:20.871 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:45:20.871 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:45:20.876 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:45:20.881 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:45:20.882 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:45:20.888 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:45:20.897 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:45:20.897 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:45:20.902 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:45:20.909 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:45:20.910 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:45:20.914 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:45:20.974 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:45:20.976 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:45:20.979 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:建档人未填写建档人为空值 
2020-06-10 14:45:20.979 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:姓名长度异常长度>50字符 
2020-06-10 14:45:20.980 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:45:20.982 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:45:20.982 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 14:45:20.985 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:7 
2020-06-10 14:45:20.986 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:45:20.987 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:45:20.986(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:45:20.986(Timestamp), 31011310200312009116(String), b36febf99ee24323a59f6e04c22ce60d(String), 2020-06-10 14:45:20.986(Timestamp), 31011310200312009116(String), b8eeb38e528544b28133b9ee94c5fbc4(String), 2020-06-10 14:45:20.986(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:45:20.986(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:45:20.986(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 14:45:20.986(Timestamp) 
2020-06-10 14:45:21.028 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 7 
2020-06-10 14:46:48.121 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 9084 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew1\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew1) 
2020-06-10 14:46:48.124 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 14:46:48.124 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 14:46:49.644 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 14:46:49.655 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:46:49.656 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 14:46:49.656 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 14:46:49.720 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 14:46:49.721 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1501 ms 
2020-06-10 14:46:49.798 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 14:46:50.037 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 14:46:50.659 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 14:46:50.845 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 14:46:50.871 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 14:46:50.947 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 301 
2020-06-10 14:46:51.180 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：301 条 
2020-06-10 14:46:51.191 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 14:46:51.191 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 14:46:51.705 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 14:46:51.729 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 14:46:51.729 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 14:46:51.860 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 14:46:51.892 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:46:51.893 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:46:51.898 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:46:51.903 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:46:51.904 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:46:51.912 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:46:51.917 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:46:51.917 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:46:51.922 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:46:51.928 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:46:51.929 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:46:51.934 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:46:51.940 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:46:51.940 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:46:51.946 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:46:51.951 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:46:51.951 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:46:51.952 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:46:51.952 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:46:51.957 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:46:51.962 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:46:51.963 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:46:51.968 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:46:51.973 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:46:51.974 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:46:51.987 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:46:51.992 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:46:51.993 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:46:51.994 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:46:51.994 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:46:51.999 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:46:52.003 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:46:52.004 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:46:52.009 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:46:52.014 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:46:52.014 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:46:52.019 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:46:52.023 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:46:52.024 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:46:52.029 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:46:52.033 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:46:52.034 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:46:52.038 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:46:52.042 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:46:52.043 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:46:52.048 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:46:52.095 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:46:52.096 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:姓名未填写姓名为空值 
2020-06-10 14:46:52.103 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:46:52.112 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:建档人未填写建档人为空值 
2020-06-10 14:46:52.115 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:46:52.115 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:46:52.116 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 14:46:52.129 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:7 
2020-06-10 14:46:52.133 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:46:52.144 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:46:52.129(Timestamp), 31011310200312009116(String), 63eb82a44bf64c96a0b9023fa2a3c9d9(String), 2020-06-10 14:46:52.129(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:46:52.129(Timestamp), 31011310200312009116(String), b36febf99ee24323a59f6e04c22ce60d(String), 2020-06-10 14:46:52.129(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:46:52.129(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:46:52.129(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 14:46:52.129(Timestamp) 
2020-06-10 14:46:52.198 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 7 
2020-06-10 14:46:52.217 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:46:52.230 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Pausing ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:46:52.230 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Stopping service [Tomcat] 
2020-06-10 14:46:52.234 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Stopping ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:46:52.234 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Destroying ProtocolHandler ["http-nio-8080"] 
2020-06-10 14:46:52.236 [INFO ] o.s.b.a.l.ConditionEvaluationReportLoggingListener - [logMessage:136]     Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled. 
2020-06-10 14:46:52.238 [ERROR] o.s.b.diagnostics.LoggingFailureAnalysisReporter   - [report:40]     ***************************  APPLICATION FAILED TO START  ***************************    Description:    Web server failed to start. Port 8080 was already in use.    Action:    Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.   
2020-06-10 14:46:52.240 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [shutdown:208] Shutting down ExecutorService 'applicationTaskExecutor' 
2020-06-10 14:46:52.243 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [close:1825] {dataSource-1} closed 
2020-06-10 14:46:55.857 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:46:55.858 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:46:55.864 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:46:55.868 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:46:55.869 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:46:55.876 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:46:55.881 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:46:55.881 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:46:55.886 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:46:55.891 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:46:55.892 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:46:55.896 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:46:55.901 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:46:55.902 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:46:55.907 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:46:55.912 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:46:55.912 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:46:55.913 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:46:55.913 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:46:55.918 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:46:55.922 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:46:55.923 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:46:55.928 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:46:55.932 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:46:55.933 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:46:55.947 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:46:55.952 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:46:55.953 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:46:55.953 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:46:55.954 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:46:55.958 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:46:55.964 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:46:55.965 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:46:55.970 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:46:55.977 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:46:55.978 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:46:55.983 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:46:55.988 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:46:55.989 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:46:55.995 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:46:56.001 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:46:56.002 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:46:56.007 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:46:56.012 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:46:56.013 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:46:56.019 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:46:56.047 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:46:56.049 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:46:56.052 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:建档人未填写建档人为空值 
2020-06-10 14:46:56.052 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:姓名长度异常长度>50字符 
2020-06-10 14:46:56.053 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:46:56.054 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:46:56.054 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 14:46:56.055 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:7 
2020-06-10 14:46:56.056 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:46:56.057 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:46:56.056(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:46:56.056(Timestamp), 31011310200312009116(String), b36febf99ee24323a59f6e04c22ce60d(String), 2020-06-10 14:46:56.056(Timestamp), 31011310200312009116(String), b8eeb38e528544b28133b9ee94c5fbc4(String), 2020-06-10 14:46:56.056(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:46:56.056(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:46:56.056(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 14:46:56.056(Timestamp) 
2020-06-10 14:46:56.073 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 7 
2020-06-10 14:47:09.850 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 14:47:09.851 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:47:09.860 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 14:47:09.865 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 14:47:09.865 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 14:47:09.871 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 14:47:09.876 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 14:47:09.877 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 14:47:09.881 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 14:47:09.886 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 14:47:09.887 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:47:09.895 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 14:47:09.899 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:47:09.900 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:47:09.905 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 14:47:09.910 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 14:47:09.910 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 14:47:09.910 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:47:09.911 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:47:09.916 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 14:47:09.920 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 14:47:09.921 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:47:09.925 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 14:47:09.935 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 14:47:09.936 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 14:47:09.951 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 14:47:09.956 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 14:47:09.956 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 14:47:09.956 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:47:09.957 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:47:09.961 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:47:09.967 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:47:09.967 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 14:47:09.971 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:47:09.976 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:47:09.976 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:47:09.986 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:47:10.075 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:47:10.076 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 14:47:10.083 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:47:10.089 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:47:10.091 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:47:10.096 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 14:47:10.102 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 14:47:10.103 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 14:47:10.108 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 14:47:10.129 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 14:47:10.131 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 14:47:10.132 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:现住址长度异常长度>100字符（包含省市区、乡镇街道名称（如有）、村居委会名称（如有）、详细地址） 
2020-06-10 14:47:10.136 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 14:47:10.137 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 14:47:10.137 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 14:47:10.139 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-10 14:47:10.140 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 14:47:10.141 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 14:47:10.139(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 14:47:10.139(Timestamp), 31011310200312009116(String), 91665e0b2efa4f86aea807ec9f4883c3(String), 2020-06-10 14:47:10.139(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 14:47:10.139(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 14:47:10.139(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 14:47:10.139(Timestamp) 
2020-06-10 14:47:10.171 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-10 15:17:48.124 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 6236 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-10 15:17:48.127 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 15:17:48.127 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 15:17:49.579 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 15:17:49.591 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 15:17:49.592 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 15:17:49.592 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 15:17:49.657 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 15:17:49.657 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1444 ms 
2020-06-10 15:17:49.739 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 15:17:49.991 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 15:17:50.561 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 15:17:50.782 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 15:17:50.800 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 15:17:50.877 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 310 
2020-06-10 15:17:50.933 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory595] error! 
2020-06-10 15:17:50.953 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName11] error! 
2020-06-10 15:17:50.962 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverDomicileAddress40] error! 
2020-06-10 15:17:50.970 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverArchiver63] error! 
2020-06-10 15:17:50.972 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverArchiveUnit61] error! 
2020-06-10 15:17:50.973 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverPresentNeighborhood55] error! 
2020-06-10 15:17:50.986 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicWorkUnit86] error! 
2020-06-10 15:17:51.010 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory537] error! 
2020-06-10 15:17:51.024 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory546] error! 
2020-06-10 15:17:51.037 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.integrity.BasicHistory168] error! 
2020-06-10 15:17:51.041 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName9] error! 
2020-06-10 15:17:51.056 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName12] error! 
2020-06-10 15:17:51.088 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName15] error! 
2020-06-10 15:17:51.102 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName13] error! 
2020-06-10 15:17:51.133 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName10] error! 
2020-06-10 15:17:51.148 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverResponsibleDoctor65] error! 
2020-06-10 15:17:51.163 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverPresentAddress33] error! 
2020-06-10 15:17:51.170 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName7] error! 
2020-06-10 15:17:51.181 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverPresentVillage59] error! 
2020-06-10 15:17:51.186 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName8] error! 
2020-06-10 15:17:51.197 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory587] error! 
2020-06-10 15:17:51.220 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory591] error! 
2020-06-10 15:17:51.278 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverName4] error! 
2020-06-10 15:17:51.326 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory606] error! 
2020-06-10 15:17:51.338 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory603] error! 
2020-06-10 15:17:51.354 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName14] error! 
2020-06-10 15:17:51.384 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory599] error! 
2020-06-10 15:17:51.393 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：310 条 
2020-06-10 15:17:51.428 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 15:17:51.429 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 15:17:52.123 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 15:17:52.144 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 15:17:52.145 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 15:17:52.314 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 15:17:52.568 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 15:17:52.600 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8080 (http) with context path '/healthRecordRules' 
2020-06-10 15:17:52.604 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 5.046 seconds (JVM running for 5.713) 
2020-06-10 15:17:52.605 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-10 15:17:53.154 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-10 15:17:53.155 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-10 15:17:53.164 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 9 ms 
2020-06-10 15:17:53.225 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 15:17:53.230 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:17:53.238 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 15:17:53.244 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 15:17:53.244 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:17:53.252 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 15:17:53.257 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 15:17:53.258 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 15:17:53.265 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 15:17:53.271 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 15:17:53.272 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:17:53.277 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 15:17:53.281 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:17:53.282 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:17:53.288 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 15:17:53.293 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 15:17:53.293 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 15:17:53.294 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:17:53.294 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:17:53.300 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 15:17:53.304 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:17:53.304 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:17:53.309 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 15:17:53.313 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:17:53.313 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:17:53.327 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 15:17:53.331 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 15:17:53.331 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 15:17:53.332 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:17:53.332 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:17:53.336 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:17:53.341 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:17:53.342 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:17:53.346 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:17:53.350 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:17:53.351 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:17:53.355 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:17:53.359 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:17:53.360 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:17:53.364 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:17:53.371 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:17:53.371 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:17:53.376 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:17:53.382 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:17:53.383 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:17:53.389 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:17:53.528 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 15:17:53.529 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:姓名未填写姓名为空值 
2020-06-10 15:17:53.535 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 15:17:53.546 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 15:17:53.548 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 15:17:53.550 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 15:17:53.554 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-10 15:17:53.593 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 15:17:53.594 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 15:17:53.554(Timestamp), 31011310200312009116(String), 63eb82a44bf64c96a0b9023fa2a3c9d9(String), 2020-06-10 15:17:53.554(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 15:17:53.554(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 15:17:53.554(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 15:17:53.554(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 15:17:53.554(Timestamp) 
2020-06-10 15:17:53.625 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-10 15:17:57.319 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 15:17:57.321 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:17:57.327 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 15:17:57.332 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 15:17:57.332 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:17:57.339 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 15:17:57.344 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 15:17:57.344 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 15:17:57.350 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 15:17:57.356 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 15:17:57.356 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:17:57.361 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 15:17:57.366 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:17:57.367 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:17:57.373 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 15:17:57.377 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 15:17:57.377 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 15:17:57.378 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:17:57.378 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:17:57.383 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 15:17:57.388 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:17:57.389 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:17:57.394 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 15:17:57.398 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:17:57.398 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:17:57.413 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 15:17:57.418 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 15:17:57.418 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 15:17:57.419 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:17:57.419 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:17:57.423 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:17:57.427 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:17:57.428 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:17:57.431 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:17:57.436 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:17:57.436 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:17:57.440 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:17:57.448 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:17:57.449 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:17:57.453 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:17:57.459 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:17:57.459 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:17:57.464 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:17:57.468 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:17:57.469 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:17:57.473 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:17:57.510 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 15:17:57.513 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 15:17:57.516 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 15:17:57.517 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 15:17:57.518 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 15:17:57.520 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:5 
2020-06-10 15:17:57.521 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 15:17:57.522 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 15:17:57.52(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 15:17:57.52(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 15:17:57.52(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 15:17:57.52(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 15:17:57.52(Timestamp) 
2020-06-10 15:17:57.559 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 5 
2020-06-10 15:18:12.204 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 15:18:12.205 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:18:12.215 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 15:18:12.220 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 15:18:12.222 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:18:12.229 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 15:18:12.234 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 15:18:12.235 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 15:18:12.241 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 15:18:12.246 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 15:18:12.247 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:18:12.251 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 15:18:12.256 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:18:12.257 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:18:12.262 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 15:18:12.266 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 15:18:12.267 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 15:18:12.267 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:18:12.268 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:18:12.274 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 15:18:12.278 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:18:12.279 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:18:12.283 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 15:18:12.288 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:18:12.289 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:18:12.303 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 15:18:12.307 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 15:18:12.307 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 15:18:12.308 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:18:12.308 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:18:12.316 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:18:12.320 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:18:12.321 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:18:12.326 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:18:12.330 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:18:12.330 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:18:12.334 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:18:12.339 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:18:12.340 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:18:12.344 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:18:12.349 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:18:12.350 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:18:12.354 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:18:12.359 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:18:12.360 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:18:12.363 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:18:12.408 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 15:18:12.411 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 15:18:12.414 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 15:18:12.414 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 15:18:12.415 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 15:18:12.416 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:5 
2020-06-10 15:18:12.417 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 15:18:12.418 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 15:18:12.416(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 15:18:12.416(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 15:18:12.416(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 15:18:12.416(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 15:18:12.416(Timestamp) 
2020-06-10 15:18:12.458 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 5 
2020-06-10 15:18:32.092 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 3568 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-10 15:18:32.098 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 15:18:32.098 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 15:18:33.515 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 15:18:33.527 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 15:18:33.528 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 15:18:33.528 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 15:18:33.592 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 15:18:33.592 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1405 ms 
2020-06-10 15:18:33.668 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 15:18:33.904 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 15:18:34.514 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 15:18:34.697 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 15:18:34.713 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 15:18:34.820 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 310 
2020-06-10 15:18:34.885 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory595] error! 
2020-06-10 15:18:34.900 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName11] error! 
2020-06-10 15:18:34.916 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverDomicileAddress40] error! 
2020-06-10 15:18:34.931 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverArchiver63] error! 
2020-06-10 15:18:34.932 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverArchiveUnit61] error! 
2020-06-10 15:18:34.934 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverPresentNeighborhood55] error! 
2020-06-10 15:18:34.944 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicWorkUnit86] error! 
2020-06-10 15:18:34.955 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory537] error! 
2020-06-10 15:18:34.957 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory546] error! 
2020-06-10 15:18:34.964 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.integrity.BasicHistory168] error! 
2020-06-10 15:18:34.968 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName9] error! 
2020-06-10 15:18:34.978 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName12] error! 
2020-06-10 15:18:35.002 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName15] error! 
2020-06-10 15:18:35.018 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName13] error! 
2020-06-10 15:18:35.033 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName10] error! 
2020-06-10 15:18:35.063 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverResponsibleDoctor65] error! 
2020-06-10 15:18:35.065 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverPresentAddress33] error! 
2020-06-10 15:18:35.073 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName7] error! 
2020-06-10 15:18:35.083 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverPresentVillage59] error! 
2020-06-10 15:18:35.103 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName8] error! 
2020-06-10 15:18:35.118 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory587] error! 
2020-06-10 15:18:35.134 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory591] error! 
2020-06-10 15:18:35.148 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverName4] error! 
2020-06-10 15:18:35.179 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory606] error! 
2020-06-10 15:18:35.202 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory603] error! 
2020-06-10 15:18:35.217 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName14] error! 
2020-06-10 15:18:35.233 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory599] error! 
2020-06-10 15:18:35.242 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：310 条 
2020-06-10 15:18:35.282 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 15:18:35.283 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 15:18:35.639 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 15:18:35.662 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 15:18:35.663 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 15:18:35.776 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 15:18:36.017 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 15:18:36.027 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Pausing ProtocolHandler ["http-nio-8080"] 
2020-06-10 15:18:36.027 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Stopping service [Tomcat] 
2020-06-10 15:18:36.034 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Stopping ProtocolHandler ["http-nio-8080"] 
2020-06-10 15:18:36.035 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Destroying ProtocolHandler ["http-nio-8080"] 
2020-06-10 15:18:36.036 [INFO ] o.s.b.a.l.ConditionEvaluationReportLoggingListener - [logMessage:136]     Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled. 
2020-06-10 15:18:36.038 [ERROR] o.s.b.diagnostics.LoggingFailureAnalysisReporter   - [report:40]     ***************************  APPLICATION FAILED TO START  ***************************    Description:    Web server failed to start. Port 8080 was already in use.    Action:    Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.   
2020-06-10 15:18:36.040 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [shutdown:208] Shutting down ExecutorService 'applicationTaskExecutor' 
2020-06-10 15:18:36.043 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [close:1825] {dataSource-1} closed 
2020-06-10 15:18:36.736 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 15:18:36.737 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:18:36.742 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 15:18:36.749 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 15:18:36.750 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:18:36.757 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 15:18:36.762 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 15:18:36.763 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 15:18:36.774 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 15:18:36.780 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 15:18:36.780 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:18:36.788 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 15:18:36.793 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:18:36.794 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:18:36.801 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 15:18:36.807 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 15:18:36.808 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 15:18:36.809 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:18:36.809 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:18:36.816 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 15:18:36.820 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:18:36.821 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:18:36.828 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 15:18:36.836 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:18:36.837 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:18:36.852 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 15:18:36.859 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 15:18:36.860 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 15:18:36.861 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:18:36.862 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:18:36.868 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:18:36.875 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:18:36.876 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:18:36.882 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:18:36.889 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:18:36.890 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:18:36.895 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:18:36.900 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:18:36.901 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:18:36.908 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:18:36.913 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:18:36.914 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:18:36.921 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:18:36.927 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:18:36.928 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:18:36.933 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:18:36.950 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 15:18:36.951 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:姓名未填写姓名为空值 
2020-06-10 15:18:36.952 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 15:18:36.955 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 15:18:36.956 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 15:18:36.956 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 15:18:36.957 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-10 15:18:36.958 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 15:18:36.959 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 15:18:36.958(Timestamp), 31011310200312009116(String), 63eb82a44bf64c96a0b9023fa2a3c9d9(String), 2020-06-10 15:18:36.958(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 15:18:36.958(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 15:18:36.958(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 15:18:36.958(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 15:18:36.958(Timestamp) 
2020-06-10 15:18:36.978 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-10 15:18:40.758 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 15:18:40.759 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:18:40.768 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 15:18:40.774 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 15:18:40.775 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:18:40.782 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 15:18:40.792 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 15:18:40.792 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 15:18:40.799 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 15:18:40.804 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 15:18:40.805 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:18:40.815 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 15:18:40.823 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:18:40.824 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:18:40.830 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 15:18:40.835 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 15:18:40.835 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 15:18:40.836 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:18:40.836 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:18:40.844 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 15:18:40.851 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:18:40.851 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:18:40.858 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 15:18:40.866 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:18:40.867 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:18:40.881 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 15:18:40.887 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 15:18:40.888 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 15:18:40.889 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:18:40.889 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:18:40.896 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:18:40.901 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:18:40.902 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:18:40.907 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:18:40.913 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:18:40.914 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:18:40.918 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:18:40.923 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:18:40.924 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:18:40.929 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:18:40.934 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:18:40.935 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:18:40.940 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:18:40.946 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:18:40.946 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:18:40.951 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:18:40.977 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 15:18:40.982 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 15:18:40.986 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 15:18:40.987 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 15:18:40.988 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 15:18:40.990 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:5 
2020-06-10 15:18:40.992 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 15:18:40.992 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 15:18:40.991(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 15:18:40.991(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 15:18:40.991(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 15:18:40.991(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 15:18:40.991(Timestamp) 
2020-06-10 15:18:41.011 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 5 
2020-06-10 15:18:54.433 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 15:18:54.434 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:18:54.440 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 15:18:54.445 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 15:18:54.446 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:18:54.452 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 15:18:54.457 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 15:18:54.457 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 15:18:54.464 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 15:18:54.470 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 15:18:54.470 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:18:54.477 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 15:18:54.485 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:18:54.485 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:18:54.494 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 15:18:54.499 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 15:18:54.499 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 15:18:54.500 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:18:54.500 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:18:54.507 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 15:18:54.512 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:18:54.512 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:18:54.517 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 15:18:54.523 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:18:54.523 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:18:54.539 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 15:18:54.544 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 15:18:54.544 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 15:18:54.545 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:18:54.545 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:18:54.550 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:18:54.555 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:18:54.555 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:18:54.560 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:18:54.565 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:18:54.565 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:18:54.570 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:18:54.575 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:18:54.575 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:18:54.580 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:18:54.585 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:18:54.585 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:18:54.591 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:18:54.596 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:18:54.597 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:18:54.601 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:18:54.621 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 15:18:54.622 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 15:18:54.625 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 15:18:54.626 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 15:18:54.626 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 15:18:54.627 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:5 
2020-06-10 15:18:54.628 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 15:18:54.629 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 15:18:54.627(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 15:18:54.627(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 15:18:54.627(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 15:18:54.627(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 15:18:54.627(Timestamp) 
2020-06-10 15:18:54.653 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 5 
2020-06-10 15:23:33.484 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 13508 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-10 15:23:33.492 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 15:23:33.492 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 15:23:35.016 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 15:23:35.029 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 15:23:35.030 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 15:23:35.030 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 15:23:35.097 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 15:23:35.097 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1491 ms 
2020-06-10 15:23:35.180 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 15:23:35.429 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 15:23:36.074 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 15:23:36.312 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 15:23:36.334 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 15:23:36.420 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 310 
2020-06-10 15:23:36.474 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory595] error! 
2020-06-10 15:23:36.497 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName11] error! 
2020-06-10 15:23:36.513 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverDomicileAddress40] error! 
2020-06-10 15:23:36.528 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverArchiver63] error! 
2020-06-10 15:23:36.544 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverArchiveUnit61] error! 
2020-06-10 15:23:36.548 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverPresentNeighborhood55] error! 
2020-06-10 15:23:36.559 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicWorkUnit86] error! 
2020-06-10 15:23:36.573 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory537] error! 
2020-06-10 15:23:36.576 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory546] error! 
2020-06-10 15:23:36.585 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.integrity.BasicHistory168] error! 
2020-06-10 15:23:36.588 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName9] error! 
2020-06-10 15:23:36.597 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName12] error! 
2020-06-10 15:23:36.631 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName15] error! 
2020-06-10 15:23:36.640 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName13] error! 
2020-06-10 15:23:36.648 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName10] error! 
2020-06-10 15:23:36.663 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverResponsibleDoctor65] error! 
2020-06-10 15:23:36.665 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverPresentAddress33] error! 
2020-06-10 15:23:36.675 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName7] error! 
2020-06-10 15:23:36.698 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverPresentVillage59] error! 
2020-06-10 15:23:36.714 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName8] error! 
2020-06-10 15:23:36.729 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory587] error! 
2020-06-10 15:23:36.753 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory591] error! 
2020-06-10 15:23:36.768 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverName4] error! 
2020-06-10 15:23:36.815 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory606] error! 
2020-06-10 15:23:36.830 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory603] error! 
2020-06-10 15:23:36.844 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName14] error! 
2020-06-10 15:23:36.855 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory599] error! 
2020-06-10 15:23:36.863 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：310 条 
2020-06-10 15:23:36.876 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 15:23:36.876 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 15:23:37.250 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 15:23:37.276 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 15:23:37.277 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 15:23:37.424 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 15:23:37.659 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 15:23:37.670 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Pausing ProtocolHandler ["http-nio-8080"] 
2020-06-10 15:23:37.671 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Stopping service [Tomcat] 
2020-06-10 15:23:37.674 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Stopping ProtocolHandler ["http-nio-8080"] 
2020-06-10 15:23:37.674 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Destroying ProtocolHandler ["http-nio-8080"] 
2020-06-10 15:23:37.677 [INFO ] o.s.b.a.l.ConditionEvaluationReportLoggingListener - [logMessage:136]     Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled. 
2020-06-10 15:23:37.678 [ERROR] o.s.b.diagnostics.LoggingFailureAnalysisReporter   - [report:40]     ***************************  APPLICATION FAILED TO START  ***************************    Description:    Web server failed to start. Port 8080 was already in use.    Action:    Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.   
2020-06-10 15:23:37.681 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [shutdown:208] Shutting down ExecutorService 'applicationTaskExecutor' 
2020-06-10 15:23:37.691 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [close:1825] {dataSource-1} closed 
2020-06-10 15:23:38.089 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 15:23:38.089 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:23:38.095 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 15:23:38.099 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 15:23:38.099 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:23:38.104 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 15:23:38.110 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 15:23:38.110 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 15:23:38.118 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 15:23:38.124 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 15:23:38.125 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:23:38.130 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 15:23:38.136 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:23:38.136 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:23:38.150 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 15:23:38.155 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 15:23:38.155 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 15:23:38.156 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:23:38.156 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:23:38.161 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 15:23:38.165 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:23:38.165 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:23:38.170 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 15:23:38.174 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:23:38.175 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:23:38.189 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 15:23:38.193 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 15:23:38.193 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 15:23:38.194 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:23:38.195 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:23:38.200 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:23:38.205 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:23:38.206 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:23:38.209 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:23:38.214 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:23:38.215 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:23:38.219 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:23:38.223 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:23:38.223 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:23:38.230 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:23:38.235 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:23:38.235 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:23:38.239 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:23:38.248 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:23:38.249 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:23:38.254 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:23:38.269 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 15:23:38.270 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:姓名未填写姓名为空值 
2020-06-10 15:23:38.271 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 15:23:38.275 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 15:23:38.275 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 15:23:38.276 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 15:23:38.277 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-10 15:23:38.278 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 15:23:38.279 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 15:23:38.277(Timestamp), 31011310200312009116(String), 63eb82a44bf64c96a0b9023fa2a3c9d9(String), 2020-06-10 15:23:38.277(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 15:23:38.277(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 15:23:38.277(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 15:23:38.277(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 15:23:38.277(Timestamp) 
2020-06-10 15:23:38.299 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-10 15:23:42.146 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 15:23:42.148 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:23:42.154 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 15:23:42.160 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 15:23:42.161 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:23:42.169 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 15:23:42.173 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 15:23:42.174 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 15:23:42.178 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 15:23:42.184 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 15:23:42.184 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:23:42.189 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 15:23:42.193 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:23:42.194 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:23:42.199 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 15:23:42.204 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 15:23:42.204 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 15:23:42.204 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:23:42.205 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:23:42.211 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 15:23:42.215 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:23:42.216 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:23:42.222 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 15:23:42.226 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:23:42.227 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:23:42.241 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 15:23:42.245 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 15:23:42.245 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 15:23:42.245 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:23:42.246 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:23:42.252 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:23:42.257 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:23:42.258 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:23:42.263 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:23:42.268 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:23:42.269 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:23:42.273 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:23:42.278 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:23:42.278 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:23:42.282 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:23:42.286 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:23:42.287 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:23:42.291 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:23:42.295 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:23:42.296 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:23:42.300 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:23:42.313 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 15:23:42.315 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 15:23:42.318 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 15:23:42.319 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 15:23:42.319 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 15:23:42.320 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:5 
2020-06-10 15:23:42.321 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 15:23:42.322 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 15:23:42.32(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 15:23:42.32(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 15:23:42.32(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 15:23:42.32(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 15:23:42.32(Timestamp) 
2020-06-10 15:23:42.340 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 5 
2020-06-10 15:23:56.732 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 15:23:56.733 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:23:56.742 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 15:23:56.746 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 15:23:56.747 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:23:56.754 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 15:23:56.758 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 15:23:56.758 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 15:23:56.763 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 15:23:56.767 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 15:23:56.768 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:23:56.772 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 15:23:56.776 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:23:56.777 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:23:56.783 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 15:23:56.787 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 15:23:56.787 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 15:23:56.788 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:23:56.789 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:23:56.794 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 15:23:56.799 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:23:56.799 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:23:56.805 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 15:23:56.809 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:23:56.810 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:23:56.823 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 15:23:56.828 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 15:23:56.829 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 15:23:56.829 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:23:56.830 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:23:56.835 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:23:56.839 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:23:56.840 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:23:56.844 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:23:56.848 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:23:56.849 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:23:56.853 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:23:56.860 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:23:56.860 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:23:56.865 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:23:56.871 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:23:56.872 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:23:56.877 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:23:56.882 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:23:56.883 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:23:56.891 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:23:56.906 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 15:23:56.908 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 15:23:56.910 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 15:23:56.911 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 15:23:56.911 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 15:23:56.912 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:5 
2020-06-10 15:23:56.913 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 15:23:56.915 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 15:23:56.912(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 15:23:56.912(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 15:23:56.912(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 15:23:56.912(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 15:23:56.912(Timestamp) 
2020-06-10 15:23:56.930 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 5 
2020-06-10 15:24:40.254 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 8044 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-10 15:24:40.258 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 15:24:40.258 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 15:24:41.719 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8080 (http) 
2020-06-10 15:24:41.730 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8080"] 
2020-06-10 15:24:41.731 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 15:24:41.731 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 15:24:41.800 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 15:24:41.800 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1457 ms 
2020-06-10 15:24:41.900 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 15:24:42.153 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 15:24:42.829 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 15:24:43.021 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 15:24:43.039 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 15:24:43.114 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 310 
2020-06-10 15:24:43.162 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory595] error! 
2020-06-10 15:24:43.181 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName11] error! 
2020-06-10 15:24:43.190 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverDomicileAddress40] error! 
2020-06-10 15:24:43.213 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverArchiver63] error! 
2020-06-10 15:24:43.228 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverArchiveUnit61] error! 
2020-06-10 15:24:43.244 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverPresentNeighborhood55] error! 
2020-06-10 15:24:43.253 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicWorkUnit86] error! 
2020-06-10 15:24:43.271 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory537] error! 
2020-06-10 15:24:43.281 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory546] error! 
2020-06-10 15:24:43.297 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.integrity.BasicHistory168] error! 
2020-06-10 15:24:43.299 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName9] error! 
2020-06-10 15:24:43.307 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName12] error! 
2020-06-10 15:24:43.351 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName15] error! 
2020-06-10 15:24:43.359 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName13] error! 
2020-06-10 15:24:43.370 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName10] error! 
2020-06-10 15:24:43.397 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverResponsibleDoctor65] error! 
2020-06-10 15:24:43.399 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverPresentAddress33] error! 
2020-06-10 15:24:43.407 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName7] error! 
2020-06-10 15:24:43.414 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverPresentVillage59] error! 
2020-06-10 15:24:43.421 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName8] error! 
2020-06-10 15:24:43.424 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory587] error! 
2020-06-10 15:24:43.457 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory591] error! 
2020-06-10 15:24:43.549 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.CoverName4] error! 
2020-06-10 15:24:43.576 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory606] error! 
2020-06-10 15:24:43.585 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory603] error! 
2020-06-10 15:24:43.604 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.conform.CoverName14] error! 
2020-06-10 15:24:43.612 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:61] Instance class [com.benetech.rules.modules.myrules.normative.BasicHistory599] error! 
2020-06-10 15:24:43.620 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：310 条 
2020-06-10 15:24:43.632 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 15:24:43.632 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 15:24:43.947 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 15:24:43.971 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:92] 初始化字典类型: 467 种 
2020-06-10 15:24:43.972 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:93] 初始化字典: 44881 条 
2020-06-10 15:24:44.109 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 15:24:44.399 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8080"] 
2020-06-10 15:24:44.413 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Pausing ProtocolHandler ["http-nio-8080"] 
2020-06-10 15:24:44.414 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Stopping service [Tomcat] 
2020-06-10 15:24:44.420 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Stopping ProtocolHandler ["http-nio-8080"] 
2020-06-10 15:24:44.420 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Destroying ProtocolHandler ["http-nio-8080"] 
2020-06-10 15:24:44.423 [INFO ] o.s.b.a.l.ConditionEvaluationReportLoggingListener - [logMessage:136]     Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled. 
2020-06-10 15:24:44.424 [ERROR] o.s.b.diagnostics.LoggingFailureAnalysisReporter   - [report:40]     ***************************  APPLICATION FAILED TO START  ***************************    Description:    Web server failed to start. Port 8080 was already in use.    Action:    Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.   
2020-06-10 15:24:44.426 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [shutdown:208] Shutting down ExecutorService 'applicationTaskExecutor' 
2020-06-10 15:24:44.430 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [close:1825] {dataSource-1} closed 
2020-06-10 15:24:45.045 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 15:24:45.046 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:24:45.051 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 15:24:45.056 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 15:24:45.056 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:24:45.061 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 15:24:45.065 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 15:24:45.066 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 15:24:45.070 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 15:24:45.077 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 15:24:45.078 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:24:45.081 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 15:24:45.086 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:24:45.086 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:24:45.093 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 15:24:45.100 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 15:24:45.100 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 15:24:45.101 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:24:45.102 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:24:45.107 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 15:24:45.111 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:24:45.112 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:24:45.117 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 15:24:45.122 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:24:45.122 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:24:45.136 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 15:24:45.140 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 15:24:45.140 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 15:24:45.141 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:24:45.141 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:24:45.146 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:24:45.150 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:24:45.151 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:24:45.155 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:24:45.161 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:24:45.162 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:24:45.167 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:24:45.172 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:24:45.172 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:24:45.176 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:24:45.181 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:24:45.181 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:24:45.184 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:24:45.189 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:24:45.189 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:24:45.193 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:24:45.208 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 15:24:45.208 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:姓名未填写姓名为空值 
2020-06-10 15:24:45.211 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 15:24:45.215 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 15:24:45.215 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 15:24:45.216 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 15:24:45.217 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:6 
2020-06-10 15:24:45.218 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 15:24:45.219 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 15:24:45.217(Timestamp), 31011310200312009116(String), 63eb82a44bf64c96a0b9023fa2a3c9d9(String), 2020-06-10 15:24:45.217(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 15:24:45.217(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 15:24:45.217(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 15:24:45.217(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 15:24:45.217(Timestamp) 
2020-06-10 15:24:45.231 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 6 
2020-06-10 15:24:49.513 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 15:24:49.514 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:24:49.519 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 15:24:49.524 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 15:24:49.524 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:24:49.529 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 15:24:49.534 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 15:24:49.535 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 15:24:49.542 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 15:24:49.547 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 15:24:49.547 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:24:49.552 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 15:24:49.557 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:24:49.558 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:24:49.563 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 15:24:49.568 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 15:24:49.568 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 15:24:49.569 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:24:49.569 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:24:49.574 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 15:24:49.578 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:24:49.578 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:24:49.583 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 15:24:49.588 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:24:49.588 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:24:49.602 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 15:24:49.607 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 15:24:49.607 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 15:24:49.608 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:24:49.608 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:24:49.613 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:24:49.618 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:24:49.618 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:24:49.623 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:24:49.628 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:24:49.628 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:24:49.633 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:24:49.638 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:24:49.638 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:24:49.644 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:24:49.649 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:24:49.650 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:24:49.655 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:24:49.659 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:24:49.660 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:24:49.665 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:24:49.689 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 15:24:49.692 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 15:24:49.697 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 15:24:49.698 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 15:24:49.699 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 15:24:49.701 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:5 
2020-06-10 15:24:49.703 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 15:24:49.703 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 15:24:49.701(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 15:24:49.701(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 15:24:49.701(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 15:24:49.701(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 15:24:49.701(Timestamp) 
2020-06-10 15:24:49.714 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 5 
2020-06-10 15:25:02.914 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 15:25:02.915 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:25:02.921 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 15:25:02.926 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 15:25:02.927 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:25:02.934 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 15:25:02.939 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 15:25:02.940 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 15:25:02.946 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 15:25:02.951 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 15:25:02.952 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:25:02.960 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 15:25:02.965 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:25:02.966 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:25:02.971 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 15:25:02.975 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 15:25:02.976 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 15:25:02.976 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:25:02.977 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:25:02.981 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 15:25:02.986 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:25:02.987 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:25:02.991 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 15:25:02.995 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:25:02.996 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:25:03.012 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 15:25:03.017 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 15:25:03.017 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 15:25:03.018 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:25:03.018 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:25:03.023 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:25:03.027 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:25:03.028 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:25:03.032 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:25:03.037 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:25:03.037 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:25:03.041 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:25:03.046 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:25:03.047 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:25:03.052 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:25:03.057 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:25:03.057 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:25:03.062 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:25:03.067 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:25:03.067 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:25:03.072 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:25:03.100 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表本人电话固定电话长度异常（不含区号） 
2020-06-10 15:25:03.101 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:固定电话长度异常（不含区号）同时满足以下条件： 1、联系人电话不为空值 2、联系人电话为固定电话（不是1和0开头判断为固定电话） 3、号码长度小于7位或大于8位 
2020-06-10 15:25:03.104 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史手术未填写既往史手术为空值 
2020-06-10 15:25:03.104 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:既往史输血未填写既往史输血为空值 
2020-06-10 15:25:03.105 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 15:25:03.106 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:148] 规则执行结束结果条数为:5 
2020-06-10 15:25:03.107 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 15:25:03.107 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 5f7ecb11a3894e1d83e68322c3e3071d(String), 2020-06-10 15:25:03.106(Timestamp), 31011310200312009116(String), 8282714ec36c405cbf094755098177e9(String), 2020-06-10 15:25:03.106(Timestamp), 31011310200312009116(String), ce48246656384d1cb27c046cba2f8c4c(String), 2020-06-10 15:25:03.106(Timestamp), 31011310200312009116(String), daa41bd0401e41fcb3523f1abb6e08d1(String), 2020-06-10 15:25:03.106(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 15:25:03.106(Timestamp) 
2020-06-10 15:25:03.152 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 5 
2020-06-10 15:38:29.017 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 1236 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-10 15:38:29.055 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 15:38:29.055 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 15:38:30.543 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8838 (http) 
2020-06-10 15:38:30.555 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8838"] 
2020-06-10 15:38:30.556 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 15:38:30.556 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 15:38:30.617 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 15:38:30.617 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1510 ms 
2020-06-10 15:38:30.700 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 15:38:30.967 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 15:38:31.798 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 15:38:31.996 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 15:38:32.018 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 15:38:32.160 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 310 
2020-06-10 15:38:32.414 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：310 条 
2020-06-10 15:38:32.431 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 15:38:32.431 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 15:38:32.899 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 15:38:32.924 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:96] 初始化字典类型: 467 种 
2020-06-10 15:38:32.924 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:97] 初始化字典: 44881 条 
2020-06-10 15:38:33.044 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 15:38:33.283 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8838"] 
2020-06-10 15:38:33.315 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8838 (http) with context path '/healthRecordRules' 
2020-06-10 15:38:33.318 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.861 seconds (JVM running for 5.279) 
2020-06-10 15:38:33.320 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-10 15:42:27.144 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 12784 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-10 15:42:27.147 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 15:42:27.148 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 15:42:28.622 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8838 (http) 
2020-06-10 15:42:28.635 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8838"] 
2020-06-10 15:42:28.636 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 15:42:28.637 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 15:42:28.718 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 15:42:28.718 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1477 ms 
2020-06-10 15:42:28.819 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 15:42:28.983 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 15:42:29.623 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 15:42:30.109 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 15:42:30.140 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 15:42:30.219 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 310 
2020-06-10 15:42:30.427 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：310 条 
2020-06-10 15:42:30.440 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 15:42:30.440 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 15:42:30.989 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 15:42:31.016 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:96] 初始化字典类型: 467 种 
2020-06-10 15:42:31.017 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:97] 初始化字典: 44881 条 
2020-06-10 15:42:31.149 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 15:42:31.407 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8838"] 
2020-06-10 15:42:31.434 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [start:204] Tomcat started on port(s): 8838 (http) with context path '/healthRecordRules' 
2020-06-10 15:42:31.437 [INFO ] com.benetech.rules.RulesApplication                - [logStarted:61] Started RulesApplication in 4.81 seconds (JVM running for 5.256) 
2020-06-10 15:42:31.443 [INFO ] com.benetech.rules.RulesApplication                - [main:20] -------------启动成功------------- 
2020-06-10 15:42:31.637 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring DispatcherServlet 'dispatcherServlet' 
2020-06-10 15:42:31.637 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:525] Initializing Servlet 'dispatcherServlet' 
2020-06-10 15:42:31.644 [INFO ] org.springframework.web.servlet.DispatcherServlet  - [initServletBean:547] Completed initialization in 6 ms 
2020-06-10 15:42:31.686 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 15:42:31.692 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:42:31.709 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 15:42:31.714 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 15:42:31.714 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:42:31.724 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 15:42:31.728 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 15:42:31.729 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 15:42:31.735 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 15:42:31.741 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 15:42:31.741 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:42:31.747 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 15:42:31.752 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:42:31.753 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:42:31.764 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 15:42:31.768 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 15:42:31.769 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 15:42:31.769 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:42:31.770 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:42:31.774 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:42:31.779 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:42:31.779 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:42:31.783 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 15:42:31.788 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryIpLis      - [debug:159] ==>  Preparing: select t1.name as name, t1.reportNo as reportNo, t1.reportDate as reportDate, t1.reportTypeCode as reportTypeCode, t1.visitType as visitType from tb_lis_report t1 LEFT JOIN tb_empi_index_root t2 on t1.empiGuid = t2.guid where t2.idCardNo = ?  
2020-06-10 15:42:31.789 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryIpLis      - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:42:31.793 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryIpLis      - [debug:159] <==      Total: 0 
2020-06-10 15:42:31.797 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:42:31.798 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:42:31.812 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 15:42:31.817 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 15:42:31.817 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 15:42:31.818 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:42:31.818 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:42:31.823 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 15:42:31.828 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:42:31.828 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:42:31.833 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:42:31.837 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryOpLis      - [debug:159] ==>  Preparing: select t1.name as name, t1.reportNo as reportNo, t1.reportDate as reportDate, t1.reportTypeCode as reportTypeCode, t1.visitType as visitType from tb_lis_report t1 LEFT JOIN tb_empi_index_root t2 on t1.empiGuid = t2.guid where t2.idCardNo = ?  
2020-06-10 15:42:31.838 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryOpLis      - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:42:31.842 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryOpLis      - [debug:159] <==      Total: 0 
2020-06-10 15:42:31.848 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:42:31.849 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:42:31.854 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:42:31.864 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:42:31.865 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:42:31.871 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:42:31.878 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryOpLis      - [debug:159] ==>  Preparing: select t1.name as name, t1.reportNo as reportNo, t1.reportDate as reportDate, t1.reportTypeCode as reportTypeCode, t1.visitType as visitType from tb_lis_report t1 LEFT JOIN tb_empi_index_root t2 on t1.empiGuid = t2.guid where t2.idCardNo = ?  
2020-06-10 15:42:31.878 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryOpLis      - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:42:31.884 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryOpLis      - [debug:159] <==      Total: 0 
2020-06-10 15:42:31.890 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:42:31.890 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:42:31.896 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:42:31.901 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:42:31.903 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:42:31.907 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:42:31.912 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryOpLis      - [debug:159] ==>  Preparing: select t1.name as name, t1.reportNo as reportNo, t1.reportDate as reportDate, t1.reportTypeCode as reportTypeCode, t1.visitType as visitType from tb_lis_report t1 LEFT JOIN tb_empi_index_root t2 on t1.empiGuid = t2.guid where t2.idCardNo = ?  
2020-06-10 15:42:31.912 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryOpLis      - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:42:31.917 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryOpLis      - [debug:159] <==      Total: 0 
2020-06-10 15:42:31.921 [DEBUG] c.b.r.m.model.mapper.PatInfoMapper.queryInfoById   - [debug:159] ==>  Preparing: select t1.name as name, t1.workUnitName as workUnitName, t1.orgCode as orgCode, t2.HospitalLevel as orgLevel, t1.systemCode as systemCode, t1.objectId as objectId from tb_empi_pat_info t1 LEFT JOIN t_dic_hospital_info t2 on t1.orgCode = t2.Hospital_id where t1.idCardNo = ?  
2020-06-10 15:42:31.922 [DEBUG] c.b.r.m.model.mapper.PatInfoMapper.queryInfoById   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:42:31.927 [DEBUG] c.b.r.m.model.mapper.PatInfoMapper.queryInfoById   - [debug:159] <==      Total: 0 
2020-06-10 15:42:32.019 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:建档后与一级医院门诊就诊记录诊断逻辑不符（高血压）同时满足以下条件： 1、个人基本信息表《既往史（疾病）》不等于“高血压”， 2、一级医院门诊就诊记录表《门诊诊断编码》中诊断为“高血压” 3、个人基本信息表《建档日期》小于门诊就诊记录表《门诊就诊日期》 高血压诊断匹配规则： 1）ICD10编码：详见"各疾病对应ICD编码“sheet 2）关键字：“高血压” 
2020-06-10 15:42:32.036 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史建档前与一级医院门诊就诊记录诊断逻辑不符（冠心病） 
2020-06-10 15:42:32.042 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史建档前与一级医院门诊就诊记录诊断逻辑不符（恶性肿瘤） 
2020-06-10 15:42:32.043 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:姓名未填写姓名为空值 
2020-06-10 15:42:32.045 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史建档前与一级医院门诊就诊记录诊断逻辑不符（严重精神障碍） 
2020-06-10 15:42:32.046 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:建档后与一级医院住院就诊记录诊断逻辑不符（高血压）同时满足以下条件： 1、个人基本信息表《既往史（疾病）》不包含“高血压” 2、一级医院住院就诊记录表《诊断编码》中诊断为“高血压” 3、个人基本信息表《建档日期》小于住院就诊记录表《出院时间》 高血压诊断匹配规则： 1）ICD10编码：详见"各疾病对应ICD编码“sheet 2）关键字“高血压” 
2020-06-10 15:42:32.048 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史建档前与一级医院门诊就诊记录诊断逻辑不符（慢性阻塞性肺疾病） 
2020-06-10 15:42:32.052 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史建档前与一级医院门诊就诊记录诊断逻辑不符（结核病） 
2020-06-10 15:42:32.068 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 15:42:32.070 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史建档前与一级医院门诊就诊记录诊断逻辑不符（高血压） 
2020-06-10 15:42:32.072 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:158] 规则执行结束结果条数为:10 
2020-06-10 15:42:32.104 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 15:42:32.105 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 24c732e2bc8e4e7eaf9ccba66df7b04a(String), 2020-06-10 15:42:32.072(Timestamp), 31011310200312009116(String), 37709c46fb4f451580b4e0be4ec44b28(String), 2020-06-10 15:42:32.072(Timestamp), 31011310200312009116(String), 6215c196bad04737a9a0e8beb6ec90d6(String), 2020-06-10 15:42:32.072(Timestamp), 31011310200312009116(String), 63eb82a44bf64c96a0b9023fa2a3c9d9(String), 2020-06-10 15:42:32.072(Timestamp), 31011310200312009116(String), 661894759bf54f15988290359dace0ae(String), 2020-06-10 15:42:32.072(Timestamp), 31011310200312009116(String), 67bb8640d8954474b388fcb74c9d4a1c(String), 2020-06-10 15:42:32.072(Timestamp), 31011310200312009116(String), 7e01461557c44660a7e83275d0491078(String), 2020-06-10 15:42:32.072(Timestamp), 31011310200312009116(String), 84bc5e11d4f34fe0a79317a855f0fc28(String), 2020-06-10 15:42:32.072(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 15:42:32.072(Timestamp), 31011310200312009116(String), f26063a8ca124939bd55524b421aa7a1(String), 2020-06-10 15:42:32.072(Timestamp) 
2020-06-10 15:42:32.126 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 10 
2020-06-10 15:42:34.689 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==>  Preparing: select Name as name, Phone as phone, Province as registerProvinceName, ProvinceCode as registerProvinceCode, City as registerCityName, CityCode as registerCityCode, District as registerDistrictName, DistrictCode as registerDistrictCode, permanentNeighborhood as registerNeighborhoodName, permanentNeighborhoodCode as registerNeighborhoodCode, permanentVillageName as registerVillageName, permanentVillageCode as registerVillageCode, PermanentAddress as registerAddress, Neighborhood as currentNeighborhoodName, NeighborhoodCode as currentNeighborhoodCode, VillageName as currentVillageName, VillageCode as currentVillageCode, PresentAddress as currentAddress, ArchiveUnit as archiveUnit, Archiver as archiver, ResponsibleDoctor as responsibleDoctor, DateOfCreateArchive as dateOfCreateArchive from HrCover where ArchiveNum = ?  
2020-06-10 15:42:34.690 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:42:34.695 [DEBUG] c.b.r.m.m.m.CoverBuildMapper.queryByArchiveNum     - [debug:159] <==      Total: 1 
2020-06-10 15:42:34.700 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==>  Preparing: select Id as id, Name as name, Sex as sex, DateOfBirth as dateOfBirth, IdCard as idCard, WorkUnit as workUnit, Phone as phone, ContactsName as contactsName, ContactsPhone as contactsPhone, ResidenceType as residenceType, NationCode as nationCode, BloodType as bloodType, RhBloodType as rhBloodType, Degree as degree, Occupation as occupation, MaritalStatus as maritalStatus, HeredityHistoryFlag as heredityHistoryFlag, EnvironmentKitchenAeration as environmentKitchenAeration, EnvironmentFuelType as environmentFuelType, EnvironmentWater as environmentWater, EnvironmentToilet as environmentToilet, EnvironmentCorral as environmentCorral from HrPersonBasicInfo where archiveNum = ?  
2020-06-10 15:42:34.701 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] ==> Parameters: 31011310200312009116(String) 
2020-06-10 15:42:34.706 [DEBUG] c.b.r.m.m.m.B.queryByArchiveNum                    - [debug:159] <==      Total: 1 
2020-06-10 15:42:34.710 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==>  Preparing: select associationType as associationType, code as code, msg as msg, occurDate as occurDate from HrAssociationInfo where Pid = ? and TableSource = 'HrPersonBasicInfo'  
2020-06-10 15:42:34.711 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] ==> Parameters: 1(Integer) 
2020-06-10 15:42:34.716 [DEBUG] c.b.r.m.m.m.B.getAssociationInfo                   - [debug:159] <==      Total: 16 
2020-06-10 15:42:34.721 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==>  Preparing: select JMXM as name, SJHM as phone from QYYH where sfzh = ?  
2020-06-10 15:42:34.721 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:42:34.725 [DEBUG] c.b.r.modules.model.mapper.SignMapper.queryById    - [debug:159] <==      Total: 1 
2020-06-10 15:42:34.730 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.ipVisitStrNo as streamNo, t1.admissionDate as inMedicalDate, t1.dischargeDate as outMedicalDate, t2.sexCode as sex, t2.dateOfBirth as dateOfBirth, t2.name as name, t2.phoneNum as phone FROM tb_his_ip_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid LEFT JOIN t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:42:34.730 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:42:34.738 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryInfoList   - [debug:159] <==      Total: 1 
2020-06-10 15:42:34.743 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:34] 获取ipData1 
2020-06-10 15:42:34.744 [ERROR] c.b.r.m.model.service.impl.IpBuildServiceImpl      - [buildHospitalInfo:35] 1 
2020-06-10 15:42:34.745 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:42:34.746 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:42:34.751 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:42:34.757 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 2  
2020-06-10 15:42:34.758 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:42:34.763 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.buildSurgery    - [debug:159] <==      Total: 0 
2020-06-10 15:42:34.767 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryIpLis      - [debug:159] ==>  Preparing: select t1.name as name, t1.reportNo as reportNo, t1.reportDate as reportDate, t1.reportTypeCode as reportTypeCode, t1.visitType as visitType from tb_lis_report t1 LEFT JOIN tb_empi_index_root t2 on t1.empiGuid = t2.guid where t2.idCardNo = ?  
2020-06-10 15:42:34.768 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryIpLis      - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:42:34.773 [DEBUG] c.b.r.m.model.mapper.IpBuildMapper.queryIpLis      - [debug:159] <==      Total: 0 
2020-06-10 15:42:34.778 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==>  Preparing: SELECT t3.HospitalLevel as orgLevel, t1.orgCode as orgCode, t1.opVisitStrNo as streamNo, t1.visitTime as medicalDate, t2.name as name, t2.phoneNum as phone FROM tb_his_op_medical_record t1 LEFT JOIN tb_empi_index_root t2 ON t2.guid = t1.empiGuid left join t_dic_hospital_info t3 on t3.Hospital_id = t1.orgCode WHERE t2.idCardNo = ?  
2020-06-10 15:42:34.778 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:42:34.793 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryInfoList   - [debug:159] <==      Total: 3 
2020-06-10 15:42:34.798 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:31] 获取op的data 
2020-06-10 15:42:34.798 [ERROR] c.b.r.m.model.service.impl.OpBuildServiceImpl      - [buildOutpatientInfo:32] 3 
2020-06-10 15:42:34.799 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:42:34.799 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:42:34.804 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 1 
2020-06-10 15:42:34.809 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:42:34.810 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190322594248000(String) 
2020-06-10 15:42:34.814 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:42:34.819 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryOpLis      - [debug:159] ==>  Preparing: select t1.name as name, t1.reportNo as reportNo, t1.reportDate as reportDate, t1.reportTypeCode as reportTypeCode, t1.visitType as visitType from tb_lis_report t1 LEFT JOIN tb_empi_index_root t2 on t1.empiGuid = t2.guid where t2.idCardNo = ?  
2020-06-10 15:42:34.819 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryOpLis      - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:42:34.825 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryOpLis      - [debug:159] <==      Total: 0 
2020-06-10 15:42:34.831 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:42:34.831 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:42:34.838 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:42:34.842 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:42:34.843 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190401596084000(String) 
2020-06-10 15:42:34.847 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:42:34.852 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryOpLis      - [debug:159] ==>  Preparing: select t1.name as name, t1.reportNo as reportNo, t1.reportDate as reportDate, t1.reportTypeCode as reportTypeCode, t1.visitType as visitType from tb_lis_report t1 LEFT JOIN tb_empi_index_root t2 on t1.empiGuid = t2.guid where t2.idCardNo = ?  
2020-06-10 15:42:34.853 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryOpLis      - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:42:34.858 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryOpLis      - [debug:159] <==      Total: 0 
2020-06-10 15:42:34.863 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==>  Preparing: SELECT diagnosisCode as code, diagnosisName as name FROM tb_his_diagnosis WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:42:34.864 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:42:34.875 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildDiagnosis  - [debug:159] <==      Total: 0 
2020-06-10 15:42:34.880 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==>  Preparing: SELECT operCode as code, operName as name FROM tb_his_operation WHERE visitStrNo = ? AND visitType = 1  
2020-06-10 15:42:34.881 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] ==> Parameters: 20190408596837900(String) 
2020-06-10 15:42:34.886 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.buildOperation  - [debug:159] <==      Total: 0 
2020-06-10 15:42:34.890 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryOpLis      - [debug:159] ==>  Preparing: select t1.name as name, t1.reportNo as reportNo, t1.reportDate as reportDate, t1.reportTypeCode as reportTypeCode, t1.visitType as visitType from tb_lis_report t1 LEFT JOIN tb_empi_index_root t2 on t1.empiGuid = t2.guid where t2.idCardNo = ?  
2020-06-10 15:42:34.890 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryOpLis      - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:42:34.895 [DEBUG] c.b.r.m.model.mapper.OpBuildMapper.queryOpLis      - [debug:159] <==      Total: 0 
2020-06-10 15:42:34.900 [DEBUG] c.b.r.m.model.mapper.PatInfoMapper.queryInfoById   - [debug:159] ==>  Preparing: select t1.name as name, t1.workUnitName as workUnitName, t1.orgCode as orgCode, t2.HospitalLevel as orgLevel, t1.systemCode as systemCode, t1.objectId as objectId from tb_empi_pat_info t1 LEFT JOIN t_dic_hospital_info t2 on t1.orgCode = t2.Hospital_id where t1.idCardNo = ?  
2020-06-10 15:42:34.900 [DEBUG] c.b.r.m.model.mapper.PatInfoMapper.queryInfoById   - [debug:159] ==> Parameters: 110101199003071970(String) 
2020-06-10 15:42:34.905 [DEBUG] c.b.r.m.model.mapper.PatInfoMapper.queryInfoById   - [debug:159] <==      Total: 0 
2020-06-10 15:42:34.928 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:建档后与一级医院门诊就诊记录诊断逻辑不符（高血压）同时满足以下条件： 1、个人基本信息表《既往史（疾病）》不等于“高血压”， 2、一级医院门诊就诊记录表《门诊诊断编码》中诊断为“高血压” 3、个人基本信息表《建档日期》小于门诊就诊记录表《门诊就诊日期》 高血压诊断匹配规则： 1）ICD10编码：详见"各疾病对应ICD编码“sheet 2）关键字：“高血压” 
2020-06-10 15:42:34.930 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史建档前与一级医院门诊就诊记录诊断逻辑不符（冠心病） 
2020-06-10 15:42:34.936 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史建档前与一级医院门诊就诊记录诊断逻辑不符（恶性肿瘤） 
2020-06-10 15:42:34.939 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史建档前与一级医院门诊就诊记录诊断逻辑不符（严重精神障碍） 
2020-06-10 15:42:34.939 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:与一级医院门诊就诊记录表姓名不一致同时满足以下条件： 1、封面《姓名》不为空值 2、一级医院门诊就诊记录表《患者姓名》不为空 3、封面《姓名》与门诊就诊记录表中《患者姓名》不相等 
2020-06-10 15:42:34.939 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:建档后与一级医院住院就诊记录诊断逻辑不符（高血压）同时满足以下条件： 1、个人基本信息表《既往史（疾病）》不包含“高血压” 2、一级医院住院就诊记录表《诊断编码》中诊断为“高血压” 3、个人基本信息表《建档日期》小于住院就诊记录表《出院时间》 高血压诊断匹配规则： 1）ICD10编码：详见"各疾病对应ICD编码“sheet 2）关键字“高血压” 
2020-06-10 15:42:34.969 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史建档前与一级医院门诊就诊记录诊断逻辑不符（慢性阻塞性肺疾病） 
2020-06-10 15:42:34.970 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:与一级医院住院就诊记录表姓名不一致同时满足以下条件： 1、封面《姓名》不为空值 2、一级医院住院就诊记录表《患者姓名》不为空 3、封面《姓名》与住院就诊记录表中《患者姓名》不相等 
2020-06-10 15:42:34.970 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史建档前与一级医院门诊就诊记录诊断逻辑不符（结核病） 
2020-06-10 15:42:34.973 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:姓名长度异常长度>50字符 
2020-06-10 15:42:34.975 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:联系电话不为纯数字同时满足以下条件： 1、联系电话不为空值 2、联系电话不是纯数字 
2020-06-10 15:42:34.980 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [onSuccess:92] 符合规则为:个人基本信息表既往史建档前与一级医院门诊就诊记录诊断逻辑不符（高血压） 
2020-06-10 15:42:34.982 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [saveResult:158] 规则执行结束结果条数为:12 
2020-06-10 15:42:34.985 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==>  Preparing: insert into HrRuleRecord(RecordId, ArchiveNum, RuleId, RecordTime, Ispass) values (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1) , (NEWID(), ?, ?, ?, 1)  
2020-06-10 15:42:34.987 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] ==> Parameters: 31011310200312009116(String), 24c732e2bc8e4e7eaf9ccba66df7b04a(String), 2020-06-10 15:42:34.982(Timestamp), 31011310200312009116(String), 37709c46fb4f451580b4e0be4ec44b28(String), 2020-06-10 15:42:34.982(Timestamp), 31011310200312009116(String), 6215c196bad04737a9a0e8beb6ec90d6(String), 2020-06-10 15:42:34.982(Timestamp), 31011310200312009116(String), 661894759bf54f15988290359dace0ae(String), 2020-06-10 15:42:34.982(Timestamp), 31011310200312009116(String), 67349648cf9e48c8aa0a7792d105a845(String), 2020-06-10 15:42:34.982(Timestamp), 31011310200312009116(String), 67bb8640d8954474b388fcb74c9d4a1c(String), 2020-06-10 15:42:34.982(Timestamp), 31011310200312009116(String), 7e01461557c44660a7e83275d0491078(String), 2020-06-10 15:42:34.982(Timestamp), 31011310200312009116(String), 7f6d3def9a2f45c88acc7fba4d50a317(String), 2020-06-10 15:42:34.982(Timestamp), 31011310200312009116(String), 84bc5e11d4f34fe0a79317a855f0fc28(String), 2020-06-10 15:42:34.982(Timestamp), 31011310200312009116(String), b8eeb38e528544b28133b9ee94c5fbc4(String), 2020-06-10 15:42:34.982(Timestamp), 31011310200312009116(String), db6607db218b4182924b980ecb900b19(String), 2020-06-10 15:42:34.982(Timestamp), 31011310200312009116(String), f26063a8ca124939bd55524b421aa7a1(String), 2020-06-10 15:42:34.982(Timestamp) 
2020-06-10 15:42:35.016 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.saveResult    - [debug:159] <==    Updates: 12 
2020-06-10 15:45:29.215 [INFO ] com.benetech.rules.RulesApplication                - [logStarting:55] Starting RulesApplication v1.0-SNAPSHOT on DESKTOP-EOCO1V0 with PID 6552 (D:\51\python\project\instance\zyjk\EHR\controlRuleNew\config\healthRecordRules.jar started by ZY in D:\51\python\project\instance\zyjk\EHR\controlRuleNew) 
2020-06-10 15:45:29.218 [DEBUG] com.benetech.rules.RulesApplication                - [logStarting:56] Running with Spring Boot v2.2.1.RELEASE, Spring v5.2.1.RELEASE 
2020-06-10 15:45:29.219 [INFO ] com.benetech.rules.RulesApplication                - [logStartupProfileInfo:655] The following profiles are active: test 
2020-06-10 15:45:30.698 [INFO ] o.s.boot.web.embedded.tomcat.TomcatWebServer       - [initialize:92] Tomcat initialized with port(s): 8838 (http) 
2020-06-10 15:45:30.711 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Initializing ProtocolHandler ["http-nio-8838"] 
2020-06-10 15:45:30.712 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Starting service [Tomcat] 
2020-06-10 15:45:30.712 [INFO ] org.apache.catalina.core.StandardEngine            - [log:173] Starting Servlet engine: [Apache Tomcat/9.0.27] 
2020-06-10 15:45:30.808 [INFO ] o.a.c.c.C.[.[localhost].[/healthRecordRules]       - [log:173] Initializing Spring embedded WebApplicationContext 
2020-06-10 15:45:30.809 [INFO ] org.springframework.web.context.ContextLoader      - [prepareWebApplicationContext:284] Root WebApplicationContext: initialization completed in 1493 ms 
2020-06-10 15:45:30.915 [DEBUG] org.apache.ibatis.logging.LogFactory               - [setImplementation:135] Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter. 
2020-06-10 15:45:31.077 [WARN ] org.mybatis.spring.SqlSessionFactoryBean           - [buildSqlSessionFactory:467] Can't find class in '[com.benetech.rules.*.entity]' package. Please check your configuration. 
2020-06-10 15:45:31.988 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [init:930] {dataSource-1} inited 
2020-06-10 15:45:32.176 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==>  Preparing: select a.RuleId as ruleId, a.RuleSql as clazz from HrRule a join HrRuleProps b on a.RuleId = b.RuleId where -- RuleId in ('34278f71cf1d42c88158aaf637fa5203', '8d30baa03bfc4233a8f115c57a0ebf08', '63eb82a44bf64c96a0b9023fa2a3c9d9') a.RuleSql != '' and a.RuleSql is not null and b.Enable = 1  
2020-06-10 15:45:32.201 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] ==> Parameters:  
2020-06-10 15:45:32.291 [DEBUG] c.b.r.m.e.mapper.RuleEngineMapper.getAllRules      - [debug:159] <==      Total: 310 
2020-06-10 15:45:32.502 [INFO ] c.b.r.m.engine.service.impl.RuleEngineServiceImpl  - [init:64] 加载规则：310 条 
2020-06-10 15:45:32.516 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==>  Preparing: SELECT codeSysType AS type, code AS code, [value] AS value FROM tb_code_value WHERE code != '' AND [value] != ''  
2020-06-10 15:45:32.517 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] ==> Parameters:  
2020-06-10 15:45:32.949 [DEBUG] c.b.r.m.m.mapper.EhrModelBuildMapper.getAllCode    - [debug:159] <==      Total: 44881 
2020-06-10 15:45:32.978 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:96] 初始化字典类型: 467 种 
2020-06-10 15:45:32.979 [INFO ] c.b.r.m.m.service.impl.EhrModelBuildServiceImpl    - [init:97] 初始化字典: 44881 条 
2020-06-10 15:45:33.110 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [initialize:171] Initializing ExecutorService 'applicationTaskExecutor' 
2020-06-10 15:45:33.371 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Starting ProtocolHandler ["http-nio-8838"] 
2020-06-10 15:45:33.382 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Pausing ProtocolHandler ["http-nio-8838"] 
2020-06-10 15:45:33.383 [INFO ] org.apache.catalina.core.StandardService           - [log:173] Stopping service [Tomcat] 
2020-06-10 15:45:33.387 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Stopping ProtocolHandler ["http-nio-8838"] 
2020-06-10 15:45:33.387 [INFO ] org.apache.coyote.http11.Http11NioProtocol         - [log:173] Destroying ProtocolHandler ["http-nio-8838"] 
2020-06-10 15:45:33.389 [INFO ] o.s.b.a.l.ConditionEvaluationReportLoggingListener - [logMessage:136]     Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled. 
2020-06-10 15:45:33.390 [ERROR] o.s.b.diagnostics.LoggingFailureAnalysisReporter   - [report:40]     ***************************  APPLICATION FAILED TO START  ***************************    Description:    Web server failed to start. Port 8838 was already in use.    Action:    Identify and stop the process that's listening on port 8838 or configure this application to listen on another port.   
2020-06-10 15:45:33.395 [INFO ] o.s.scheduling.concurrent.ThreadPoolTaskExecutor   - [shutdown:208] Shutting down ExecutorService 'applicationTaskExecutor' 
2020-06-10 15:45:33.399 [INFO ] com.alibaba.druid.pool.DruidDataSource             - [close:1825] {dataSource-1} closed 
