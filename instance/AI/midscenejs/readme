midscenejs
https://midscenejs.com/zh/index.html
https://github.com/web-infra-dev/midscene

todo å®‰è£…å…¨å±€@midscene/cli
npm i -g @midscene/cli
æˆ–åœ¨é¡¹ç›®ä¸­å®‰è£…ï¼Œnpm i @midscene/cli --save-dev

æŸ¥çœ‹ç‰ˆæœ¬  midscene -version


mcp.so

todo ã€AI+è‡ªåŠ¨åŒ–æµ‹è¯•æ•™ç¨‹ã€‘AIæµ‹è¯•å·¥å…· midscene ç¯å¢ƒæ­å»ºå’Œé…ç½®ï¼ï¼ˆåªè®²å¹²è´§ï¼‰
https://www.bilibili.com/video/BV1McJEzPEtt?spm_id_from=333.788.recommend_more_video.15&trackid=web_related_0.router-related-2206146-btjvp.1761545107653.859&vd_source=be21f48b876460dfe25064d745fdc372


todo AIé©±åŠ¨UIè‡ªåŠ¨åŒ–æµ‹è¯•ä¼ä¸šçº§å®è·µ
https://www.bilibili.com/video/BV1Mf5qzzEuE/?spm_id_from=333.337.search-card.all.click&vd_source=be21f48b876460dfe25064d745fdc372

todo midscene.js ä»‹ç»
Midsceme.js è®© AI æˆä¸ºä½ çš„æµè§ˆå™¨æ“ä½œå‘˜ ğŸ¤–ã€‚åªéœ€ç”¨è‡ªç„¶è¯­è¨€æè¿°ä½ æƒ³åšä»€ä¹ˆï¼Œå®ƒå°±èƒ½å¸®ä½ æ“ä½œç½‘é¡µã€éªŒè¯å†…å®¹ï¼Œå¹¶æå–æ•°æ®ã€‚æ— è®ºä½ æ˜¯æƒ³å¿«é€Ÿä½“éªŒè¿˜æ˜¯æ·±åº¦å¼€å‘ï¼Œéƒ½å¯ä»¥è½»æ¾ä¸Šæ‰‹ã€‚
ç‰¹æ€§
https://link.wtturl.cn/?target=https%3A%2F%2Fgithub.com%2Fweb-infra-dev%2Fmidscene%2Fblob%2Fmain%2FREADME.zh.md%23%25E7%25...&scene=im&aid=582478&lang=zh
è‡ªç„¶è¯­è¨€äº’åŠ¨ ğŸŸ¡ï¼šåªéœ€æè¿°ä½ çš„ç›®æ ‡å’Œæ­¥éª¤ï¼ŒMidscene ä¼šä¸ºä½ è§„åˆ’å’Œæ“ä½œç”¨æˆ·ç•Œé¢ã€‚
Chrome æ’ä»¶ä½“éªŒ ğŸŸ¦ï¼šé€šè¿‡ Chrome æ’ä»¶ï¼Œä½ å¯ä»¥ç«‹å³å¼€å§‹ä½“éªŒï¼Œæ— éœ€ç¼–
Puppeteer/Playwright é›†æˆ ğŸ”§ï¼šæ”¯æŒ Puppeteer å’Œ Playwright é›†æˆï¼Œè®©ä½ èƒ½å¤Ÿç»“åˆ AI èƒ½åŠ›å’Œè¿™äº›è‡ªåŠ¨åŒ–å·¥å…·çš„å¼ºå¤§åŠŸèƒ½ï¼Œè½»æ¾å®ç°è‡ªåŠ¨åŒ–æ“ä½œã€‚
æ”¯æŒå¼€æºæ¨¡å‹ ğŸ¤–ï¼šæ”¯æŒå¼€æºæ¨¡å‹ ğŸŒ€UI-TARS å’Œ ğŸŒ€åƒé—® Qwen2.5-VLï¼Œç›¸æ¯” GPT-4oã€Claude ç­‰é—­æºæ¨¡å‹ï¼Œä¸ä»…åœ¨ UI è‡ªåŠ¨åŒ–åœºæ™¯ä¸‹è¡¨ç°æ›´åŠ å‡ºè‰²ï¼Œè¿˜èƒ½æ›´å¥½åœ°ä¿æŠ¤æ•°æ®å®‰å…¨ã€‚
æ”¯æŒé€šç”¨æ¨¡å‹ ğŸŒŸï¼šæ”¯æŒ GPT-4oã€Claude ç­‰é€šç”¨å¤§æ¨¡å‹ï¼Œé€‚é…å¤šç§åœºæ™¯éœ€æ±‚ã€‚
ç”¨å¯è§†åŒ–æŠ¥å‘Šæ¥è°ƒè¯• ğŸ“Šï¼šé€šè¿‡æˆ‘ä»¬çš„æµ‹è¯•æŠ¥å‘Šå’Œ Playgroundï¼Œä½ å¯ä»¥è½»æ¾ç†è§£ã€å›æ”¾å’Œè°ƒè¯•æ•´ä¸ªè¿‡ç¨‹ã€‚
æ”¯æŒç¼“å­˜ â†©ï¸ï¼šé¦–æ¬¡é€šè¿‡ AI æ‰§è¡Œåä»»åŠ¡ä¼šè¢«ç¼“å­˜ï¼Œåç»­æ‰§è¡Œç›¸åŒä»»åŠ¡æ—¶å¯æ˜¾è‘—æå‡æ‰§è¡Œæ•ˆç‡ã€‚
å®Œå…¨å¼€æº ğŸ”¥ï¼šä½“éªŒå…¨æ–°çš„è‡ªåŠ¨åŒ–å¼€å‘ä½“éªŒï¼Œå°½æƒ…äº«å—å§ï¼
ç†è§£ UIã€JSON æ ¼å¼å›ç­” ğŸ”ï¼šä½ å¯ä»¥æå‡ºå…³äºæ•°æ®æ ¼å¼çš„è¦æ±‚ï¼Œç„¶åå¾—åˆ° JSON æ ¼å¼çš„é¢„æœŸå›åº”ã€‚
ç›´è§‚æ–­è¨€ ğŸ¤”ï¼šç”¨è‡ªç„¶è¯­è¨€è¡¨è¾¾ä½ çš„æ–­è¨€ï¼ŒAI ä¼šç†è§£å¹¶å¤„ç†ã€‚

# todo ğŸŒ€UI-TARS
ç•Œé¢è‡ªåŠ¨åŒ–è®¾è®¡
æˆ‘ä»¬æ¨èåœ¨ UI-TARS ä¸­ä½¿ç”¨ç›®æ ‡é©±åŠ¨çš„æç¤ºè¯ï¼ˆtarget-driven promptï¼‰ï¼Œå¦‚ä½¿ç”¨ç”¨æˆ·å foo å’Œå¯†ç  bar ç™»å½•â€ï¼Œå®ƒä¼šé€æ­¥å®ŒæˆåŠ¨ä½œè§„åˆ’å¹¶æ‰§è¡Œã€‚
ç‰¹æ€§
é€Ÿåº¦ï¼šä¸€ä¸ªç§æœ‰åŒ–çš„ UI-TARS æ¨¡å‹å¯ä»¥æ¯”é€šç”¨ LLM å¿« 5 å€ã€‚å½“éƒ¨ç½²åœ¨æ€§èƒ½è‰¯å¥½çš„ GPU æœåŠ¡å™¨ä¸Šæ—¶ï¼Œæ¯æ¬¡ .ai ä¸­çš„æ­¥éª¤å¯ä»¥åœ¨ 1-2 ç§’å†…å®Œæˆã€‚
åŸç”Ÿå›¾åƒè¯†åˆ«ï¼šUI-TARS æœ‰è§†è§‰å®šä½ï¼ˆVisual Groundingï¼‰çš„èƒ½åŠ›ï¼Œå’Œ Qwen-2.5-VL ä¸€æ ·ï¼Œåœ¨ä½¿ç”¨ UI-TARS æ—¶ï¼ŒMidscene.js ä¸éœ€è¦å‘é€ DOM æ ‘ã€‚
å¼€æºï¼šUI-TARS æ˜¯ä¸€ä¸ªå¼€æºæ¨¡å‹ï¼Œå› æ­¤ä½ å¯ä»¥é€‰æ‹©éƒ¨ç½²åˆ°ä½ è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼Œä½ çš„æ•°æ®å°†ä¸å†å‘é€åˆ°äº‘ç«¯ã€‚
æ›´ç¨³å®šçš„çŸ­æç¤ºï¼šUI-TARS é’ˆå¯¹ UI è‡ªåŠ¨åŒ–è¿›è¡Œäº†ä¼˜åŒ–ï¼Œå¹¶èƒ½å¤Ÿå¤„ç†æ›´å¤æ‚
æ›´ç¨³å®šçš„çŸ­æç¤ºï¼šUI-TARS é’ˆå¯¹ UI è‡ªåŠ¨åŒ–è¿›è¡Œäº†ä¼˜åŒ–ï¼Œå¹¶èƒ½å¤Ÿå¤„ç†æ›´å¤æ‚çš„ç›®æ ‡é©±åŠ¨çš„ä»»åŠ¡ã€‚åœ¨ä½¿ç”¨æ›´çŸ­çš„æç¤ºè¯æ—¶ï¼ŒUI-TARS çš„è¡¨ç°æ¯”é€šç”¨ LLM æ›´å¥½ã€‚
åœ¨ Midscene.js ä¸­ä½¿ç”¨æ—¶çš„é™åˆ¶
æ–­è¨€èƒ½åŠ›è¾ƒå·®ï¼šåœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒUI-TARS çš„æ–­è¨€èƒ½åŠ›å¯èƒ½ä¸å¦‚ gpt-4oã€‚
é…ç½®
é™¤äº†å¸¸è§„é…ç½®ï¼Œä½ è¿˜éœ€è¦åŒ…å« MIDSCENE_USE_VLM_UI_TARS=1 é…ç½®æ¥å¯ç”¨ UI-TARS æ¨¡å¼ã€‚å¦åˆ™ï¼Œä½ ä¼šé‡åˆ°ä¸€äº› JSON è§£æé”™è¯¯ã€‚

UI-TARS ç§æœ‰åŒ–ï¼Œå†…ç½‘éƒ¨ç½²ï¼š
https://modelscope.cn/models/bytedance-research/ui-tars-72b-sft
1 OPENAI_BASE_URL="....."
2 OPENAI_API_KEY="......"
3 MIDSCENE_MODEL_NAME="ui-tars-7b-sft"
4 MIDSCENE_USE_VLM_UI_TARS=1 # åˆ«å¿˜äº†é…ç½®è¿™é¡¹ç”¨äº UI-TARS æ¨¡å¼ï¼



# todo google æ’ä»¶åœ°å€ï¼š
chromewebstore.google.com/detail/midscenejs/gbldofcpkknbggpkmbdaefngejllnief

# todo midsceneé…ç½®ï¼š
OPENAI_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
OPENAI_API_KEY=sk-fa71f3cbbd304313b4ba271981f65661
MIDSCENE_MODEL_NAME=qwen3-vl-plus
MIDSCENE_USE_QWEN_VL=1

Action: ä¸ç½‘é¡µè¿›è¡Œäº¤äº’ï¼Œå¦‚ è¾“å…¥qtyï¼Œç„¶åç‚¹å‡»ç™¾åº¦ä¸€ä¸‹ã€‚ã€‚
Query: ä»ç•Œé¢ä¸­æå– JSON æ•°æ®ï¼Œå¦‚ â€œæå–é¡µé¢ä¸­çš„ç”¨æˆ· IDï¼Œè¿”å› {id: string}â€ï¼Œæˆ–æ¥å…¥æ™ºèƒ½ä½“ä¿å­˜ä¸€äº›æ•°æ®ã€‚
Assert: æ‰§è¡Œæ–­è¨€ï¼Œå¦‚ â€œé¡µé¢æ ‡é¢˜æ˜¯ ä½†é—®æ™ºèƒ½â€ã€‚


# todo testç½‘é¡µ
https://www.saucedemo.com/
standard_user
secret_sauce


# todo ä¸ Playwright é›†æˆå®æˆ˜
Playwright.js æ˜¯ç”±å¾®è½¯å¼€å‘çš„ä¸€ä¸ªå¼€æºè‡ªåŠ¨åŒ–åº“ï¼Œä¸»è¦ç”¨äºå¯¹ç½‘ç»œåº”ç”¨ç¨‹åºè¿›è¡Œç«¯åˆ°ç«¯æµ‹è¯•ï¼ˆend-to-end testï¼‰å’Œç½‘é¡µæŠ“å–ã€‚

ç¬¬ä¸€æ­¥ï¼šåˆå§‹åŒ– Playwright2 é¡¹ç›®
js
// æ–°å»ºå·¥ä½œç›®å½•ï¼Œä¾‹å¦‚ playwright2
cd playwright2
npm init playwright@latest
é€‰TypeScriptï¼Œe2e,true,ture

ç¬¬äºŒæ­¥ï¼šé…ç½®.env ç¯å¢ƒå˜é‡
# åƒé—®å¤šæ¨¡æ€å¤§æ¨¡å‹
OPENAI_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
OPENAI_API_KEY=sk-fa71f3cbbd304313b4ba271981f65661
MIDSCENE_MODEL_NAME=qwen3-vl-plus
MIDSCENE_USE_QWEN_VL=1

ç¬¬ä¸‰æ­¥ï¼šæ–°å¢ä¾èµ–
npm install @midscene/web --save-dev

ç¬¬å››æ­¥ï¼šé…ç½®playwright.config.ts
export default defineConfig({
  testDir: './e2e',
  /* Run tests in files in parallel */
  timeout: 9000 * 1000,
  fullyParallel: true,
  /* Fail the build on CI if you accidentally left test.only in the source code. */
  forbidOnly: !!process.env.CI,
  /* Retry on CI only */
  retries: process.env.CI ? 2 : 0,
  /* Opt out of parallel tests on CI. */
  workers: process.env.CI ? 1 : undefined,
  /* Reporter to use. See https://playwright.dev/docs/test-reporters */
  // reporter: 'html',
  reporter: [["list"],["@midscene/web/playwright-report"]],
  /* Shared settings for all the projects below. See https://playwright.dev/docs/api/class-testoptions. */
  use: {
    /* Base URL to use in actions like `await page.goto('')`. */
    // baseURL: 'http://localhost:3000',

    /* Collect trace when retrying the failed test. See https://playwright.dev/docs/trace-viewer */
    trace: 'on-first-retry',
  },

  /* Configure projects for major browsers */
  projects: [
    {
      name: 'chromium',
      use: { ...devices['Desktop Chrome'] },
    },







ç«å±±å¼•æ“
OPENAI_BASE_URL="https://ark.cn-beijing.volces.com/api/v3"
OPENAI_API_KEY="AKLTNGNlYWU4ODdmMjgzNDU4MDgxOGVlZjk0ZmU2YWIwMGU"
MIDSCENE_MODEL_NAME="doubao-seed-1.6-vision"
MIDSCENE_USE_DOUBAO_VISION=1

# æ¥è‡ªç«å±±å¼•æ“çš„æ¨ç†æ¥å…¥ç‚¹ ID æˆ–æ¨¡å‹åç§°

AccessKeyID: AKLTNGNlYWU4ODdmMjgzNDU4MDgxOGVlZjk0ZmU2YWIwMGU

SecretAccessKey: T0RJNU9EbGlNV1V5WkRoak5EZGxPV0ZsT0dRNVpXRXhNVEprWVRSaE5XVQ==


--------------------------------------------



ä¸ºé™ä½ AccessKey æ³„éœ²çš„é£é™©ï¼Œè‡ª 2023 å¹´ 7 æœˆ 5 æ—¥èµ·ï¼Œæ–°å»ºçš„ä¸»è´¦å· AccessKey åªåœ¨åˆ›å»ºæ—¶æä¾› Secretï¼Œåç»­ä¸å¯å†è¿›è¡ŒæŸ¥è¯¢ï¼Œè¯·ä¿å­˜å¥½Secretã€‚

AccessKey ID
LTAI5tH2sd7XVWqqv6AyEetJ

AccessKey Secret
M5e6C45jzTD9eYiErGvtNhJDFREZ8O




AIé©±åŠ¨UIè‡ªåŠ¨åŒ–æµ‹è¯•åº”ç”¨å®è·µï¼ˆæ•ˆæœçœŸçš„å¾ˆä¸é”™ï¼‰


OPENAI_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
OPENAI_API_KEY=
MIDSCENE_MODEL_NAME=qwen-vl-max-latest
MIDSCENE_USE_QWEN_VL=1


https://midscenejs.com/zh/index.html