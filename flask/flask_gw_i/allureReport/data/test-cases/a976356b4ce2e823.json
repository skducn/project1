{"uid":"a976356b4ce2e823","name":"查询已签约居民","fullName":"test_i_main.TestSigned#test_get_signed_info","historyId":"d6084ef00e78cbb2cbdfb1d45d6ffd26","time":{"start":1744694735744,"stop":1744694740161,"duration":4417},"status":"broken","statusMessage":"TypeError: not all arguments converted during string formatting","statusTrace":"self = <PO.WebPO.WebPO object at 0x10d1a9510>\nloc = ('xpath', '/html/body/div[2]/div/div[1]/div[2]/textarea[1]')\n\n    def find_element(self, *loc):\n        \"\"\"重写元素定位\"\"\"\n        try:\n            # Python特性，将入参放在元组里，入参loc，加*，变成元组。\n            # WebDriverWait(self.driver,5).until(lambda driver: driver.find_element(*loc).is_displayed())\n            # 注意：以下loc入参本身就是元组，所以不需要再加*\n>           WebDriverWait(self.driver, 10).until(EC.visibility_of_element_located(loc))\n\nPO/DomPO.py:222: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n../../../../../../miniconda3/envs/flask_gw_i/lib/python3.10/site-packages/selenium/webdriver/support/wait.py:137: in until\n    value = method(self._driver)\n../../../../../../miniconda3/envs/flask_gw_i/lib/python3.10/site-packages/selenium/webdriver/support/expected_conditions.py:224: in _predicate\n    return _element_if_visible(driver.find_element(*locator))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nelement = None, visibility = True\n\n    def _element_if_visible(element: WebElement, visibility: bool = True) -> Union[Literal[False], WebElement]:\n        \"\"\"An expectation for checking that an element, known to be present on the\n        DOM of a page, is of the expected visibility.\n    \n        Parameters:\n        -----------\n        element : WebElement\n            The WebElement to check.\n        visibility : bool\n            The expected visibility of the element.\n    \n        Returns:\n        -------\n        WebElement : The WebElement once it is visible or not visible.\n        \"\"\"\n>       return element if element.is_displayed() == visibility else False\nE       AttributeError: 'NoneType' object has no attribute 'is_displayed'\n\n../../../../../../miniconda3/envs/flask_gw_i/lib/python3.10/site-packages/selenium/webdriver/support/expected_conditions.py:280: AttributeError\n\nDuring handling of the above exception, another exception occurred:\n\nself = <test_i_main.TestSigned object at 0x10e24a7d0>\n\n    @pytest.mark.run(order=8)\n    @allure.severity(allure.severity_level.MINOR)\n    @allure.link(\"https://config.net.cn/tools/sm2.html\", name=\"在线SM2公钥私钥对生成\")\n    @allure.link(\"http://192.168.0.203:38080/doc.html#/phs-server/REST%20-%20%E9%AB%98%E8%A1%80%E5%8E%8B/createOrUpdateHzglkUsingPOST\", name=\"高血压管理卡 新增或编辑\")\n    @allure.title(\"查询已签约居民\")\n    def test_get_signed_info(self):\n        with allure.step(\"步骤1：查询\"):\n            allure.attach('默认查询条件')\n            # allure.attach(d_['获取高血压管理卡基本信息']['p'], name='查询')\n            # allure.attach('{\"idCard\":\"310101195001293595\"}', name='查询身份证')\n>       r = Gw_PO_i.curlPOST(d_['查询已签约居民']['i'], d_['查询已签约居民']['p'], d_['查询已签约居民']['d'])\n\ntest_i_main.py:136: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nGwPO_i.py:153: in curlPOST\n    varP = self.encrypt(varP)\nGwPO_i.py:71: in encrypt\n    Web_PO.setTextByX(\"/html/body/div[2]/div/div[1]/div[2]/textarea[1]\", varSource)\nPO/DomPO.py:645: in setTextByX\n    self.find_element(*(By.XPATH, varXpath)).clear()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <PO.WebPO.WebPO object at 0x10d1a9510>\nloc = ('xpath', '/html/body/div[2]/div/div[1]/div[2]/textarea[1]')\n\n    def find_element(self, *loc):\n        \"\"\"重写元素定位\"\"\"\n        try:\n            # Python特性，将入参放在元组里，入参loc，加*，变成元组。\n            # WebDriverWait(self.driver,5).until(lambda driver: driver.find_element(*loc).is_displayed())\n            # 注意：以下loc入参本身就是元组，所以不需要再加*\n            WebDriverWait(self.driver, 10).until(EC.visibility_of_element_located(loc))\n            return self.driver.find_element(*loc)\n        except:\n>           print(\"未找到元素 %s \" % (loc))\nE           TypeError: not all arguments converted during string formatting\n\nPO/DomPO.py:225: TypeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"TypeError: not all arguments converted during string formatting","statusTrace":"self = <PO.WebPO.WebPO object at 0x10d1a9510>\nloc = ('xpath', '/html/body/div[2]/div/div[1]/div[2]/textarea[1]')\n\n    def find_element(self, *loc):\n        \"\"\"重写元素定位\"\"\"\n        try:\n            # Python特性，将入参放在元组里，入参loc，加*，变成元组。\n            # WebDriverWait(self.driver,5).until(lambda driver: driver.find_element(*loc).is_displayed())\n            # 注意：以下loc入参本身就是元组，所以不需要再加*\n>           WebDriverWait(self.driver, 10).until(EC.visibility_of_element_located(loc))\n\nPO/DomPO.py:222: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n../../../../../../miniconda3/envs/flask_gw_i/lib/python3.10/site-packages/selenium/webdriver/support/wait.py:137: in until\n    value = method(self._driver)\n../../../../../../miniconda3/envs/flask_gw_i/lib/python3.10/site-packages/selenium/webdriver/support/expected_conditions.py:224: in _predicate\n    return _element_if_visible(driver.find_element(*locator))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nelement = None, visibility = True\n\n    def _element_if_visible(element: WebElement, visibility: bool = True) -> Union[Literal[False], WebElement]:\n        \"\"\"An expectation for checking that an element, known to be present on the\n        DOM of a page, is of the expected visibility.\n    \n        Parameters:\n        -----------\n        element : WebElement\n            The WebElement to check.\n        visibility : bool\n            The expected visibility of the element.\n    \n        Returns:\n        -------\n        WebElement : The WebElement once it is visible or not visible.\n        \"\"\"\n>       return element if element.is_displayed() == visibility else False\nE       AttributeError: 'NoneType' object has no attribute 'is_displayed'\n\n../../../../../../miniconda3/envs/flask_gw_i/lib/python3.10/site-packages/selenium/webdriver/support/expected_conditions.py:280: AttributeError\n\nDuring handling of the above exception, another exception occurred:\n\nself = <test_i_main.TestSigned object at 0x10e24a7d0>\n\n    @pytest.mark.run(order=8)\n    @allure.severity(allure.severity_level.MINOR)\n    @allure.link(\"https://config.net.cn/tools/sm2.html\", name=\"在线SM2公钥私钥对生成\")\n    @allure.link(\"http://192.168.0.203:38080/doc.html#/phs-server/REST%20-%20%E9%AB%98%E8%A1%80%E5%8E%8B/createOrUpdateHzglkUsingPOST\", name=\"高血压管理卡 新增或编辑\")\n    @allure.title(\"查询已签约居民\")\n    def test_get_signed_info(self):\n        with allure.step(\"步骤1：查询\"):\n            allure.attach('默认查询条件')\n            # allure.attach(d_['获取高血压管理卡基本信息']['p'], name='查询')\n            # allure.attach('{\"idCard\":\"310101195001293595\"}', name='查询身份证')\n>       r = Gw_PO_i.curlPOST(d_['查询已签约居民']['i'], d_['查询已签约居民']['p'], d_['查询已签约居民']['d'])\n\ntest_i_main.py:136: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nGwPO_i.py:153: in curlPOST\n    varP = self.encrypt(varP)\nGwPO_i.py:71: in encrypt\n    Web_PO.setTextByX(\"/html/body/div[2]/div/div[1]/div[2]/textarea[1]\", varSource)\nPO/DomPO.py:645: in setTextByX\n    self.find_element(*(By.XPATH, varXpath)).clear()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <PO.WebPO.WebPO object at 0x10d1a9510>\nloc = ('xpath', '/html/body/div[2]/div/div[1]/div[2]/textarea[1]')\n\n    def find_element(self, *loc):\n        \"\"\"重写元素定位\"\"\"\n        try:\n            # Python特性，将入参放在元组里，入参loc，加*，变成元组。\n            # WebDriverWait(self.driver,5).until(lambda driver: driver.find_element(*loc).is_displayed())\n            # 注意：以下loc入参本身就是元组，所以不需要再加*\n            WebDriverWait(self.driver, 10).until(EC.visibility_of_element_located(loc))\n            return self.driver.find_element(*loc)\n        except:\n>           print(\"未找到元素 %s \" % (loc))\nE           TypeError: not all arguments converted during string formatting\n\nPO/DomPO.py:225: TypeError","steps":[{"name":"步骤1：查询","time":{"start":1744694735744,"stop":1744694735744,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"8000b8c2241ec781","name":"20cebe6f-163c-48c8-b020-4533604dfaf5-attachment.attach","source":"8000b8c2241ec781.attach","type":"text/plain","size":18}],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":1,"attachmentStep":false,"stepsCount":1,"hasContent":true},"afterStages":[],"labels":[{"name":"feature","value":"已签约居民"},{"name":"severity","value":"minor"},{"name":"tag","value":"run(order=8)"},{"name":"suite","value":"test_i_main"},{"name":"subSuite","value":"TestSigned"},{"name":"host","value":"localhost-2.local"},{"name":"thread","value":"13093-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_i_main"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[{"name":"高血压管理卡 新增或编辑","url":"http://192.168.0.203:38080/doc.html#/phs-server/REST%20-%20%E9%AB%98%E8%A1%80%E5%8E%8B/createOrUpdateHzglkUsingPOST","type":"link"},{"name":"在线SM2公钥私钥对生成","url":"https://config.net.cn/tools/sm2.html","type":"link"}],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["run(order=8)"]},"source":"a976356b4ce2e823.json","parameterValues":[]}