{"uid":"5af040b0f6abc964","name":"高血压管理卡 新增","fullName":"test_i_main.TestEHR#test_get_ehr_info","historyId":"29f29d9e2c891ad924d4784078ac2cfe","time":{"start":1744694732217,"stop":1744694735446,"duration":3229},"status":"broken","statusMessage":"TypeError: not all arguments converted during string formatting","statusTrace":"self = <PO.WebPO.WebPO object at 0x10e24afe0>\nloc = ('xpath', '/html/body/div[2]/div/div[1]/div[1]/textarea[2]')\n\n    def find_element(self, *loc):\n        \"\"\"重写元素定位\"\"\"\n        try:\n            # Python特性，将入参放在元组里，入参loc，加*，变成元组。\n            # WebDriverWait(self.driver,5).until(lambda driver: driver.find_element(*loc).is_displayed())\n            # 注意：以下loc入参本身就是元组，所以不需要再加*\n>           WebDriverWait(self.driver, 10).until(EC.visibility_of_element_located(loc))\n\nPO/DomPO.py:222: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n../../../../../../miniconda3/envs/flask_gw_i/lib/python3.10/site-packages/selenium/webdriver/support/wait.py:137: in until\n    value = method(self._driver)\n../../../../../../miniconda3/envs/flask_gw_i/lib/python3.10/site-packages/selenium/webdriver/support/expected_conditions.py:224: in _predicate\n    return _element_if_visible(driver.find_element(*locator))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nelement = None, visibility = True\n\n    def _element_if_visible(element: WebElement, visibility: bool = True) -> Union[Literal[False], WebElement]:\n        \"\"\"An expectation for checking that an element, known to be present on the\n        DOM of a page, is of the expected visibility.\n    \n        Parameters:\n        -----------\n        element : WebElement\n            The WebElement to check.\n        visibility : bool\n            The expected visibility of the element.\n    \n        Returns:\n        -------\n        WebElement : The WebElement once it is visible or not visible.\n        \"\"\"\n>       return element if element.is_displayed() == visibility else False\nE       AttributeError: 'NoneType' object has no attribute 'is_displayed'\n\n../../../../../../miniconda3/envs/flask_gw_i/lib/python3.10/site-packages/selenium/webdriver/support/expected_conditions.py:280: AttributeError\n\nDuring handling of the above exception, another exception occurred:\n\nself = <test_i_main.TestEHR object at 0x10e24a950>\n\n    @pytest.mark.run(order=4)\n    @allure.severity(allure.severity_level.CRITICAL)\n    @allure.link(\"https://config.net.cn/tools/sm2.html\", name=\"在线SM2公钥私钥对生成\")\n    @allure.link(\"http://192.168.0.203:38080/doc.html#/phs-server/REST%20-%20%E9%AB%98%E8%A1%80%E5%8E%8B/createOrUpdateHzglkUsingPOST\", name=\"高血压管理卡 新增或编辑\")\n    @allure.title(\"高血压管理卡 新增\")\n    def test_get_ehr_info(self):\n        with allure.step(\"步骤1：获取高血压管理卡-获取基本信息\"):\n            allure.attach(d_['获取高血压管理卡基本信息']['p'], name='查询身份证')\n>       r = Gw_PO_i.curlGET(d_['获取高血压管理卡基本信息']['i'], d_['获取高血压管理卡基本信息']['p'])\n\ntest_i_main.py:116: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nGwPO_i.py:125: in curlGET\n    encryptedCURL = \"curl -X GET '\" + self.ipAddr + varI + self.encrypt(varP) + \"' -H 'Request-Origion:SwaggerBootstrapUi' -H 'accept:*/*' -H 'Content-Type:application/json' -H 'Authorization:\" + self.token + \"'\"\nGwPO_i.py:70: in encrypt\n    self._sm2(Web_PO)\nGwPO_i.py:63: in _sm2\n    Web_PO.setTextByX(\"/html/body/div[2]/div/div[1]/div[1]/textarea[2]\", Configparser_PO.HTTP(\"publicKey\"))\nPO/DomPO.py:645: in setTextByX\n    self.find_element(*(By.XPATH, varXpath)).clear()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <PO.WebPO.WebPO object at 0x10e24afe0>\nloc = ('xpath', '/html/body/div[2]/div/div[1]/div[1]/textarea[2]')\n\n    def find_element(self, *loc):\n        \"\"\"重写元素定位\"\"\"\n        try:\n            # Python特性，将入参放在元组里，入参loc，加*，变成元组。\n            # WebDriverWait(self.driver,5).until(lambda driver: driver.find_element(*loc).is_displayed())\n            # 注意：以下loc入参本身就是元组，所以不需要再加*\n            WebDriverWait(self.driver, 10).until(EC.visibility_of_element_located(loc))\n            return self.driver.find_element(*loc)\n        except:\n>           print(\"未找到元素 %s \" % (loc))\nE           TypeError: not all arguments converted during string formatting\n\nPO/DomPO.py:225: TypeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"TypeError: not all arguments converted during string formatting","statusTrace":"self = <PO.WebPO.WebPO object at 0x10e24afe0>\nloc = ('xpath', '/html/body/div[2]/div/div[1]/div[1]/textarea[2]')\n\n    def find_element(self, *loc):\n        \"\"\"重写元素定位\"\"\"\n        try:\n            # Python特性，将入参放在元组里，入参loc，加*，变成元组。\n            # WebDriverWait(self.driver,5).until(lambda driver: driver.find_element(*loc).is_displayed())\n            # 注意：以下loc入参本身就是元组，所以不需要再加*\n>           WebDriverWait(self.driver, 10).until(EC.visibility_of_element_located(loc))\n\nPO/DomPO.py:222: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n../../../../../../miniconda3/envs/flask_gw_i/lib/python3.10/site-packages/selenium/webdriver/support/wait.py:137: in until\n    value = method(self._driver)\n../../../../../../miniconda3/envs/flask_gw_i/lib/python3.10/site-packages/selenium/webdriver/support/expected_conditions.py:224: in _predicate\n    return _element_if_visible(driver.find_element(*locator))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nelement = None, visibility = True\n\n    def _element_if_visible(element: WebElement, visibility: bool = True) -> Union[Literal[False], WebElement]:\n        \"\"\"An expectation for checking that an element, known to be present on the\n        DOM of a page, is of the expected visibility.\n    \n        Parameters:\n        -----------\n        element : WebElement\n            The WebElement to check.\n        visibility : bool\n            The expected visibility of the element.\n    \n        Returns:\n        -------\n        WebElement : The WebElement once it is visible or not visible.\n        \"\"\"\n>       return element if element.is_displayed() == visibility else False\nE       AttributeError: 'NoneType' object has no attribute 'is_displayed'\n\n../../../../../../miniconda3/envs/flask_gw_i/lib/python3.10/site-packages/selenium/webdriver/support/expected_conditions.py:280: AttributeError\n\nDuring handling of the above exception, another exception occurred:\n\nself = <test_i_main.TestEHR object at 0x10e24a950>\n\n    @pytest.mark.run(order=4)\n    @allure.severity(allure.severity_level.CRITICAL)\n    @allure.link(\"https://config.net.cn/tools/sm2.html\", name=\"在线SM2公钥私钥对生成\")\n    @allure.link(\"http://192.168.0.203:38080/doc.html#/phs-server/REST%20-%20%E9%AB%98%E8%A1%80%E5%8E%8B/createOrUpdateHzglkUsingPOST\", name=\"高血压管理卡 新增或编辑\")\n    @allure.title(\"高血压管理卡 新增\")\n    def test_get_ehr_info(self):\n        with allure.step(\"步骤1：获取高血压管理卡-获取基本信息\"):\n            allure.attach(d_['获取高血压管理卡基本信息']['p'], name='查询身份证')\n>       r = Gw_PO_i.curlGET(d_['获取高血压管理卡基本信息']['i'], d_['获取高血压管理卡基本信息']['p'])\n\ntest_i_main.py:116: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nGwPO_i.py:125: in curlGET\n    encryptedCURL = \"curl -X GET '\" + self.ipAddr + varI + self.encrypt(varP) + \"' -H 'Request-Origion:SwaggerBootstrapUi' -H 'accept:*/*' -H 'Content-Type:application/json' -H 'Authorization:\" + self.token + \"'\"\nGwPO_i.py:70: in encrypt\n    self._sm2(Web_PO)\nGwPO_i.py:63: in _sm2\n    Web_PO.setTextByX(\"/html/body/div[2]/div/div[1]/div[1]/textarea[2]\", Configparser_PO.HTTP(\"publicKey\"))\nPO/DomPO.py:645: in setTextByX\n    self.find_element(*(By.XPATH, varXpath)).clear()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <PO.WebPO.WebPO object at 0x10e24afe0>\nloc = ('xpath', '/html/body/div[2]/div/div[1]/div[1]/textarea[2]')\n\n    def find_element(self, *loc):\n        \"\"\"重写元素定位\"\"\"\n        try:\n            # Python特性，将入参放在元组里，入参loc，加*，变成元组。\n            # WebDriverWait(self.driver,5).until(lambda driver: driver.find_element(*loc).is_displayed())\n            # 注意：以下loc入参本身就是元组，所以不需要再加*\n            WebDriverWait(self.driver, 10).until(EC.visibility_of_element_located(loc))\n            return self.driver.find_element(*loc)\n        except:\n>           print(\"未找到元素 %s \" % (loc))\nE           TypeError: not all arguments converted during string formatting\n\nPO/DomPO.py:225: TypeError","steps":[{"name":"步骤1：获取高血压管理卡-获取基本信息","time":{"start":1744694732218,"stop":1744694732227,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"8618af3d6a833573","name":"查询身份证","source":"8618af3d6a833573.attach","type":"text/plain","size":31}],"parameters":[],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"hasContent":true,"shouldDisplayMessage":true,"attachmentsCount":1,"attachmentStep":false},"afterStages":[],"labels":[{"name":"severity","value":"critical"},{"name":"feature","value":"高血压管理卡"},{"name":"tag","value":"run(order=4)"},{"name":"suite","value":"test_i_main"},{"name":"subSuite","value":"TestEHR"},{"name":"host","value":"localhost-2.local"},{"name":"thread","value":"13093-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_i_main"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[{"name":"高血压管理卡 新增或编辑","url":"http://192.168.0.203:38080/doc.html#/phs-server/REST%20-%20%E9%AB%98%E8%A1%80%E5%8E%8B/createOrUpdateHzglkUsingPOST","type":"link"},{"name":"在线SM2公钥私钥对生成","url":"https://config.net.cn/tools/sm2.html","type":"link"}],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["run(order=4)"]},"source":"5af040b0f6abc964.json","parameterValues":[]}