{"uid":"efbb69c3b6058b51","name":"test_login","fullName":"test_i_main.TestLogin#test_login","historyId":"60b89b87b77febfacdd1cb250a3edc27","time":{"start":1744693196643,"stop":1744693196643,"duration":0},"status":"broken","statusMessage":"TypeError: not all arguments converted during string formatting","statusTrace":"self = <PO.WebPO.WebPO object at 0x106c1dd80>\nloc = ('xpath', '/html/body/div[2]/div/div[1]/div[1]/textarea[1]')\n\n    def find_element(self, *loc):\n        \"\"\"重写元素定位\"\"\"\n        try:\n            # Python特性，将入参放在元组里，入参loc，加*，变成元组。\n            # WebDriverWait(self.driver,5).until(lambda driver: driver.find_element(*loc).is_displayed())\n            # 注意：以下loc入参本身就是元组，所以不需要再加*\n>           WebDriverWait(self.driver, 10).until(EC.visibility_of_element_located(loc))\n\nPO/DomPO.py:222: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n../../../../../../miniconda3/envs/flask_gw_i/lib/python3.10/site-packages/selenium/webdriver/support/wait.py:137: in until\n    value = method(self._driver)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ndriver = 'noChrome'\n\n    def _predicate(driver: WebDriverOrWebElement):\n        try:\n>           return _element_if_visible(driver.find_element(*locator))\nE           AttributeError: 'str' object has no attribute 'find_element'\n\n../../../../../../miniconda3/envs/flask_gw_i/lib/python3.10/site-packages/selenium/webdriver/support/expected_conditions.py:224: AttributeError\n\nDuring handling of the above exception, another exception occurred:\n\nself = <test_i_main.TestLogin object at 0x106c1ece0>\n\n    @pytest.mark.run(order=1)\n    @allure.severity(allure.severity_level.CRITICAL)\n    @allure.story('获取token')\n    def test_login(self):\n>       d_user_token = Gw_PO_i.curlLogin(Gw_PO_i.encrypt(json.dumps(d_['登录'])))  # {'user': '11012', 'token': 'eyJhbG...\n\ntest_i_main.py:102: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nGwPO_i.py:70: in encrypt\n    self._sm2(Web_PO)\nGwPO_i.py:61: in _sm2\n    Web_PO.setTextByX(\"/html/body/div[2]/div/div[1]/div[1]/textarea[1]\", Configparser_PO.HTTP(\"privateKey\"))\nPO/DomPO.py:645: in setTextByX\n    self.find_element(*(By.XPATH, varXpath)).clear()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <PO.WebPO.WebPO object at 0x106c1dd80>\nloc = ('xpath', '/html/body/div[2]/div/div[1]/div[1]/textarea[1]')\n\n    def find_element(self, *loc):\n        \"\"\"重写元素定位\"\"\"\n        try:\n            # Python特性，将入参放在元组里，入参loc，加*，变成元组。\n            # WebDriverWait(self.driver,5).until(lambda driver: driver.find_element(*loc).is_displayed())\n            # 注意：以下loc入参本身就是元组，所以不需要再加*\n            WebDriverWait(self.driver, 10).until(EC.visibility_of_element_located(loc))\n            return self.driver.find_element(*loc)\n        except:\n>           print(\"未找到元素 %s \" % (loc))\nE           TypeError: not all arguments converted during string formatting\n\nPO/DomPO.py:225: TypeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"afterStages":[],"labels":[{"name":"severity","value":"critical"},{"name":"feature","value":"登录模块"},{"name":"story","value":"获取token"},{"name":"tag","value":"run(order=1)"},{"name":"suite","value":"test_i_main"},{"name":"subSuite","value":"TestLogin"},{"name":"host","value":"localhost-2.local"},{"name":"thread","value":"11524-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_i_main"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["run(order=1)"]},"source":"efbb69c3b6058b51.json","parameterValues":[]}